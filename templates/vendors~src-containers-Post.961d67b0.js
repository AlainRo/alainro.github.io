(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{373:function(e,t,n){var r,i,a,s,o=n(3);s=function(g){"use strict";function x(e){return e.replace(/(-|:)(.)/g,function(e,t,n){return n.toUpperCase()})}g=g&&g.hasOwnProperty("default")?g.default:g;var y={for:"htmlFor",class:"className",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",datetime:"dateTime",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},w={ELEMENT:1,TEXT:3,COMMENT:8},k=["table","tbody","thead","tfoot","tr"],_=document.createElement("div");function E(e,t,n){var r,i=n.map._;if(e.nodeType===w.COMMENT)return null;if(e.nodeType===w.TEXT){var a=(r=e.textContent,_.innerHTML=r,_.textContent);return i?i(a):a}for(var s=e.tagName.toLowerCase(),o=n.map[s],u={},c=0;c<e.attributes.length;c++){var l=e.attributes[c].name,p=e.attributes[c].value;u[l]=p}u.key=t.toString();for(var h=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(a).reduce(function(e,t){if(/^on.*/.test(t))return e;var n=t;/^(data|aria)-/.test(t)||(n=x(t));var r,s,i=y[n]||n;return e[i]="style"===i?(r=a.style,s={},r.split(";").filter(function(e){return""!==e.trim()}).forEach(function(e){var t,n,r=e.split(":");if(1<r.length){var i=(n=r[0].trim(),/^-ms-/.test(n)&&(n=n.substr(1)),x(n)),a=(t=r.slice(1).join(":").trim(),/^\d+$/.test(t)?Number(t):t.replace(/'/g,'"'));s[i]=a}}),s):a[t],e},{})}(u),d=[],f=0;f<e.childNodes.length;f++){var m=e.childNodes[f],v=t+"."+f;if(!(-1<k.indexOf(s)&&m.nodeType===w.TEXT&&(m.textContent=m.textContent.trim(),""===m.textContent))){var b=E(m,v,n);null!==b&&d.push(b)}}return"style"!==s||o||i?(0===d.length&&(d=null),o?g.createElement(o,h,d):i?i(s,h,d):g.createElement(s,h,d)):(h.dangerouslySetInnerHTML={__html:d[0]},g.createElement(s,h,null))}return function(e){var n={map:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).map||{}},t=document.createElement("div");t.innerHTML=e.trim();for(var r=[],i=0;i<t.childNodes.length;i++)r.push(t.childNodes[i]);var a=r.map(function(e,t){return E(e,t,n)}).filter(function(e){return null!==e});return 1===a.length?a[0]:a}},"object"==o(t)&&void 0!==e?e.exports=s(n(0)):(i=[n(0)],void 0===(a="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=a))},374:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},375:function(e,t,n){"use strict";function u(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,i)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n(22),r=n(27),f=n.n(r);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return ue}),n.d(t,"b",function(){return bt});var m=f.a.mark(O),l=f.a.mark(I),p=f.a.mark(R),h=f.a.mark(V),v=f.a.mark(q),b=f.a.mark(B),g=f.a.mark(F),x=f.a.mark(U),a=f.a.mark(_e);function y(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;"function"==typeof i?i=new i(t,{detail:n}):((i=r.createEvent("Event")).initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function w(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function k(e){return e===(0|e)+""}var o=Symbol.prototype.toString;function _(e){return o.call(e)}var E=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Symbol.toStringTag,A={},N=E;function T(e,t){return C.call(e,t)}function P(e){return e[S]||e.constructor&&e.constructor.name||"Object"}function j(e,t){try{var n=e[t];return n&&n.constructor,n}catch(e){return A}}function L(t){var e,n,r,i=w(t);n=t instanceof Map?(e="Map(".concat(t.size,")"),O):t instanceof Set?(e="Set(".concat(t.size,")"),I):i?(e="".concat(t.constructor.name,"(").concat(t.length,")"),R):(e=P(t),V);var a=document.createElement("span");a.className="observablehq--expanded";var s=a.appendChild(document.createElement("a"));s.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",s.appendChild(document.createTextNode("".concat(e).concat(i?" [":" {"))),s.addEventListener("mouseup",function(e){e.stopPropagation(),se(a,D(t))}),n=n(t);for(var o=0;!(r=n.next()).done&&o<20;++o)a.appendChild(r.value);if(!r.done){var u=a.appendChild(document.createElement("a"));u.className="observablehq--field",u.style.display="block",u.appendChild(document.createTextNode("  … more")),u.addEventListener("mouseup",function(e){e.stopPropagation(),a.insertBefore(r.value,a.lastChild.previousSibling);for(var t=0;!(r=n.next()).done&&t<19;++t)a.insertBefore(r.value,a.lastChild.previousSibling);r.done&&a.removeChild(a.lastChild.previousSibling),y(a,"load")})}return a.appendChild(document.createTextNode(i?"]":"}")),a}function O(i){var a,s,o,u,c,l,p,h;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=!(a=!0),o=void 0,e.prev=3,u=i[Symbol.iterator]();case 5:if(a=(c=u.next()).done){e.next=12;break}return l=d(c.value,2),p=l[0],h=l[1],e.next=9,t=p,n=h,r=void 0,(r=document.createElement("div")).className="observablehq--field",r.appendChild(document.createTextNode("  ")),r.appendChild(ae(t)),r.appendChild(document.createTextNode(" => ")),r.appendChild(ae(n)),r;case 9:a=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),s=!0,o=e.t0;case 18:e.prev=18,e.prev=19,a||null==u.return||u.return();case 21:if(e.prev=21,s)throw o;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.delegateYield(V(i),"t1",27);case 27:case"end":return e.stop()}var t,n,r},m,this,[[3,14,18,26],[19,,21,25]])}function I(r){var i,a,s,o,u,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!(i=!0),s=void 0,e.prev=3,o=r[Symbol.iterator]();case 5:if(i=(u=o.next()).done){e.next=12;break}return c=u.value,e.next=9,t=c,n=void 0,(n=document.createElement("div")).className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ae(t)),n;case 9:i=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),a=!0,s=e.t0;case 18:e.prev=18,e.prev=19,i||null==o.return||o.return();case 21:if(e.prev=21,a)throw s;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.delegateYield(V(r),"t1",27);case 27:case"end":return e.stop()}var t,n},l,this,[[3,14,18,26],[19,,21,25]])}function R(t){var n,r,i,a,s,o,u,c,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=t.length;case 1:if(!(n<r)){e.next=9;break}if(e.t0=n in t,e.t0)return e.next=6,M(n,j(t,n),"observablehq--index");e.next=6;break;case 6:++n,e.next=1;break;case 9:e.t1=f.a.keys(t);case 10:if((e.t2=e.t1()).done){e.next=18;break}if(i=e.t2.value,e.t3=!k(i)&&T(t,i),e.t3)return e.next=16,M(i,j(t,i),"observablehq--key");e.next=16;break;case 16:e.next=10;break;case 18:s=!(a=!0),o=void 0,e.prev=21,u=N(t)[Symbol.iterator]();case 23:if(a=(c=u.next()).done){e.next=30;break}return l=c.value,e.next=27,M(_(l),j(t,l),"observablehq--symbol");case 27:a=!0,e.next=23;break;case 30:e.next=36;break;case 32:e.prev=32,e.t4=e.catch(21),s=!0,o=e.t4;case 36:e.prev=36,e.prev=37,a||null==u.return||u.return();case 39:if(e.prev=39,s)throw o;e.next=42;break;case 42:return e.finish(39);case 43:return e.finish(36);case 44:case"end":return e.stop()}},p,this,[[21,32,36,44],[37,,39,43]])}function V(t){var n,r,i,a,s,o,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=f.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}if(n=e.t1.value,e.t2=T(t,n),e.t2)return e.next=7,M(n,j(t,n),"observablehq--key");e.next=7;break;case 7:e.next=1;break;case 9:i=!(r=!0),a=void 0,e.prev=12,s=N(t)[Symbol.iterator]();case 14:if(r=(o=s.next()).done){e.next=21;break}return u=o.value,e.next=18,M(_(u),j(t,u),"observablehq--symbol");case 18:r=!0,e.next=14;break;case 21:e.next=27;break;case 23:e.prev=23,e.t3=e.catch(12),i=!0,a=e.t3;case 27:e.prev=27,e.prev=28,r||null==s.return||s.return();case 30:if(e.prev=30,i)throw a;e.next=33;break;case 33:return e.finish(30);case 34:return e.finish(27);case 35:case"end":return e.stop()}},h,this,[[12,23,27,35],[28,,30,34]])}function M(e,t,n){var r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent="  ".concat(e),r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t)),r}function D(t,e){var n,r,i,a=w(t);if(r=t instanceof Map?(n="Map(".concat(t.size,")"),q):t instanceof Set?(n="Set(".concat(t.size,")"),B):a?(n="".concat(t.constructor.name,"(").concat(t.length,")"),F):(n=P(t),U),e){var s=document.createElement("span");return s.className="observablehq--shallow",s.appendChild(document.createTextNode(n)),s.addEventListener("mouseup",function(e){e.stopPropagation(),se(s,D(t))}),s}var o=document.createElement("span");o.className="observablehq--collapsed";var u=o.appendChild(document.createElement("a"));u.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",u.appendChild(document.createTextNode("".concat(n).concat(a?" [":" {"))),o.addEventListener("mouseup",function(e){e.stopPropagation(),se(o,L(t))},!0),r=r(t);for(var c=0;!(i=r.next()).done&&c<20;++c)0<c&&o.appendChild(document.createTextNode(", ")),o.appendChild(i.value);return i.done||o.appendChild(document.createTextNode(", …")),o.appendChild(document.createTextNode(a?"]":"}")),o}function q(i){var a,s,o,u,c,l,p,h;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=!(a=!0),o=void 0,e.prev=3,u=i[Symbol.iterator]();case 5:if(a=(c=u.next()).done){e.next=12;break}return l=d(c.value,2),p=l[0],h=l[1],e.next=9,t=p,n=h,r=void 0,(r=document.createDocumentFragment()).appendChild(ae(t,!0)),r.appendChild(document.createTextNode(" => ")),r.appendChild(ae(n,!0)),r;case 9:a=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),s=!0,o=e.t0;case 18:e.prev=18,e.prev=19,a||null==u.return||u.return();case 21:if(e.prev=21,s)throw o;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.delegateYield(U(i),"t1",27);case 27:case"end":return e.stop()}var t,n,r},v,this,[[3,14,18,26],[19,,21,25]])}function B(t){var n,r,i,a,s,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!(n=!0),i=void 0,e.prev=3,a=t[Symbol.iterator]();case 5:if(n=(s=a.next()).done){e.next=12;break}return o=s.value,e.next=9,ae(o,!0);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,i=e.t0;case 18:e.prev=18,e.prev=19,n||null==a.return||a.return();case 21:if(e.prev=21,r)throw i;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.delegateYield(U(t),"t1",27);case 27:case"end":return e.stop()}},b,this,[[3,14,18,26],[19,,21,25]])}function F(t){var n,r,i,a,s,o,u,c,l,p,h,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=0,i=t.length;case 1:if(!(r<i)){e.next=16;break}if(!(r in t)){e.next=13;break}if(0<(a=r-n-1))return(s=document.createElement("span")).className="observablehq--empty",s.textContent=1===a?"empty":"empty × ".concat(r-n-1),e.next=10,s;e.next=10;break;case 10:return e.next=12,ae(j(t,r),!0);case 12:n=r;case 13:++r,e.next=1;break;case 16:e.t0=f.a.keys(t);case 17:if((e.t1=e.t0()).done){e.next=25;break}if(o=e.t1.value,e.t2=!k(o)&&T(t,o),e.t2)return e.next=23,z(o,j(t,o),"observablehq--key");e.next=23;break;case 23:e.next=17;break;case 25:c=!(u=!0),l=void 0,e.prev=28,p=N(t)[Symbol.iterator]();case 30:if(u=(h=p.next()).done){e.next=37;break}return d=h.value,e.next=34,z(_(d),j(t,d),"observablehq--symbol");case 34:u=!0,e.next=30;break;case 37:e.next=43;break;case 39:e.prev=39,e.t3=e.catch(28),c=!0,l=e.t3;case 43:e.prev=43,e.prev=44,u||null==p.return||p.return();case 46:if(e.prev=46,c)throw l;e.next=49;break;case 49:return e.finish(46);case 50:return e.finish(43);case 51:case"end":return e.stop()}},g,this,[[28,39,43,51],[44,,46,50]])}function U(t){var n,r,i,a,s,o,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=f.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}if(n=e.t1.value,e.t2=T(t,n),e.t2)return e.next=7,z(n,j(t,n),"observablehq--key");e.next=7;break;case 7:e.next=1;break;case 9:i=!(r=!0),a=void 0,e.prev=12,s=N(t)[Symbol.iterator]();case 14:if(r=(o=s.next()).done){e.next=21;break}return u=o.value,e.next=18,z(_(u),j(t,u),"observablehq--symbol");case 18:r=!0,e.next=14;break;case 21:e.next=27;break;case 23:e.prev=23,e.t3=e.catch(12),i=!0,a=e.t3;case 27:e.prev=27,e.prev=28,r||null==s.return||s.return();case 30:if(e.prev=30,i)throw a;e.next=33;break;case 33:return e.finish(30);case 34:return e.finish(27);case 35:case"end":return e.stop()}},x,this,[[12,23,27,35],[28,,30,34]])}function z(e,t,n){var r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t,!0)),r}function H(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var G=Error.prototype.toString,W=RegExp.prototype.toString,X=20;function J(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Y)}function Y(e){var t=e.charCodeAt(0);return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Q(e,t){for(var n=0;t.exec(e);)++n;return n}var $=Function.prototype.toString,K={prefix:"async ƒ"},Z={prefix:"async ƒ*"},ee={prefix:"class"},te={prefix:"ƒ"},ne={prefix:"ƒ*"};function re(e,t){var n=document.createElement("span");n.className="observablehq--function";var r=n.appendChild(document.createElement("span"));return r.className="observablehq--keyword",r.textContent=e.prefix,n.appendChild(document.createTextNode(" "+t)),n}var ie=Object.prototype.toString;function ae(e,t,n){var r,i,a,s=Object(c.a)(e);switch(s){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=_(e);break;case"function":return function(e){var t,n,r=$.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":t=K;break;case"AsyncGeneratorFunction":t=Z;break;case"GeneratorFunction":t=ne;break;default:t=/^class\b/.test(r)?ee:te}return t===ee?re(t,e.name||""):(n=/^(?:async\s*)?(\w+)\s*=>/.exec(r))?re(t,"("+n[1]+")"):(n=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?re(t,n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()"):(n=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?re(t,(e.name||"")+(n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()")):re(t,(e.name||"")+"(…)")}(e);case"string":return function(t,n,e){if(!1===n){if(Q(t,/["\n]/g)<=Q(t,/`|\${/g)){var r=document.createElement("span");return r.className="observablehq--string",r.textContent=JSON.stringify(t),r}var i=t.split("\n");if(i.length>X&&!e){var a=document.createElement("div");a.className="observablehq--string",a.textContent="`"+J(i.slice(0,X).join("\n"));var s=a.appendChild(document.createElement("span")),o=i.length-X;return s.textContent="Show ".concat(o," truncated line").concat(1<o?"s":""),s.className="observablehq--string-expand",s.addEventListener("mouseup",function(e){e.stopPropagation(),se(a,ae(t,n,!0))}),a}var u=document.createElement("span");return u.className="observablehq--string".concat(e?" observablehq--expanded":""),u.textContent="`"+J(t)+"`",u}var c=document.createElement("span");return c.className="observablehq--string",c.textContent=JSON.stringify(100<t.length?"".concat(t.slice(0,50),"…").concat(t.slice(-49)):t),c}(e,t,n);default:if(null===e){s=null,e="null";break}if(e instanceof Date){s="date",a=e,e=isNaN(a)?"Invalid Date":H(a.getFullYear(),4)+"-"+H(a.getMonth()+1,2)+"-"+H(a.getDate(),2)+(a.getMilliseconds()?"T"+H(a.getHours(),2)+":"+H(a.getMinutes(),2)+":"+H(a.getSeconds(),2)+"."+H(a.getMilliseconds(),3):a.getSeconds()?"T"+H(a.getHours(),2)+":"+H(a.getMinutes(),2)+":"+H(a.getSeconds(),2):a.getMinutes()||a.getHours()?"T"+H(a.getHours(),2)+":"+H(a.getMinutes(),2):"");break}if(e===A){s="forbidden",e="[forbidden]";break}switch(ie.call(e)){case"[object RegExp]":s="regexp",i=e,e=W.call(i);break;case"[object Error]":case"[object DOMException]":s="error",e=(r=e).stack||G.call(r);break;default:return(n?L:D)(e,t)}}var o=document.createElement("span");return o.className="observablehq--".concat(s),o.textContent=e,o}function se(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),y(t,"load")}var oe=/\s+\(\d+:\d+\)$/m,ue=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("invalid node");(this._node=e).classList.add("observablehq")}var e,n,r;return e=t,(n=[{key:"pending",value:function(){var e=this._node;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}},{key:"fulfilled",value:function(e){var t=this._node;if((!(e instanceof Element||e instanceof Text)||e.parentNode&&e.parentNode!==t)&&(e=ae(e,!1,t.firstChild&&t.firstChild.classList&&t.firstChild.classList.contains("observablehq--expanded"))).classList.add("observablehq--inspect"),t.classList.remove("observablehq--running","observablehq--error"),t.firstChild!==e)if(t.firstChild){for(;t.lastChild!==t.firstChild;)t.removeChild(t.lastChild);t.replaceChild(e,t.firstChild)}else t.appendChild(e);y(t,"update")}},{key:"rejected",value:function(e){var t=this._node;for(t.classList.remove("observablehq--running"),t.classList.add("observablehq--error");t.lastChild;)t.removeChild(t.lastChild);var n=document.createElement("span");n.className="observablehq--inspect",n.textContent=(e+"").replace(oe,""),t.appendChild(n),y(t,"error",{error:e})}}])&&i(e.prototype,n),r&&i(e,r),t}();function ce(e){return function(){return e}}ue.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new ue(e.appendChild(document.createElement("div")))}};var le={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pe=0;function he(e){this.id=e,this.href=window.location.href+"#"+e}he.prototype.toString=function(){return"url("+this.href+")"};var de={canvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var i=r.getContext("2d");return i.scale(n,n),i},download:function(t,e,n){var r=document.createElement("a");return r.appendChild(document.createElement("button")).textContent=null==n?"Download":n,r.download=null==e?"untitled":e,r.onclick=function(){var e=r.href=URL.createObjectURL(t);setTimeout(function(){URL.revokeObjectURL(e)},50)},r},element:function(e,t){var n,r=e+="",i=r.indexOf(":");0<=i&&"xmlns"!==(r=e.slice(0,i))&&(e=e.slice(i+1));var a=le.hasOwnProperty(r)?document.createElementNS(le[r],e):document.createElement(e);if(t)for(var s in t)i=(r=s).indexOf(":"),n=t[s],0<=i&&"xmlns"!==(r=s.slice(0,i))&&(s=s.slice(i+1)),le.hasOwnProperty(r)?a.setAttributeNS(le[r],s,n):a.setAttribute(s,n);return a},input:function(e){var t=document.createElement("input");return null!=e&&(t.type=e),t},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r},select:function(e){var n=document.createElement("select");return Array.prototype.forEach.call(e,function(e){var t=document.createElement("option");t.value=t.textContent=e,n.appendChild(t)}),n},svg:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n},text:function(e){return document.createTextNode(e)},uid:function(e){return new he("O-"+(null==e?"":e+"-")+ ++pe)}},fe={buffer:function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsArrayBuffer(r)})},text:function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsText(r)})},url:function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsDataURL(r)})}};function me(){return this}function ve(e,t){var n,r=!1;return s(n={},Symbol.iterator,me),s(n,"next",function(){return r?{done:!0}:{done:!(r=!0),value:e}}),s(n,"return",function(){return r=!0,t(e),{done:!0}}),s(n,"throw",function(){return{done:r=!0}}),n}function be(e){var t,n,r,i=!1,a=e(function(e){return r?(r(e),r=null):i=!0,n=e});return s(t={},Symbol.iterator,me),s(t,"throw",function(){return{done:!0}}),s(t,"return",function(){return null!=a&&a(),{done:!0}}),s(t,"next",function(){return{done:!1,value:i?(i=!1,Promise.resolve(n)):new Promise(function(e){return r=e})}}),t}function ge(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}var xe={disposable:ve,filter:f.a.mark(function e(t,n){var r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=-1;case 1:if((r=t.next()).done){e.next=8;break}if(e.t0=n(r.value,++i),e.t0)return e.next=6,r.value;e.next=6;break;case 6:e.next=1;break;case 8:case"end":return e.stop()}},e,this)}),input:function(i){return be(function(e){var t=function(e){switch(i.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(),n=ge(i);function r(){e(ge(i))}return i.addEventListener(t,r),void 0!==n&&e(n),function(){i.removeEventListener(t,r)}})},map:f.a.mark(function e(t,n){var r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=-1;case 1:if((r=t.next()).done){e.next=6;break}return e.next=4,n(r.value,++i);case 4:e.next=1;break;case 6:case"end":return e.stop()}},e,this)}),observe:be,queue:function(e){var t,n,r=[],i=e(function(e){return r.push(e),n&&(n(r.shift()),n=null),e});return s(t={},Symbol.iterator,me),s(t,"throw",function(){return{done:!0}}),s(t,"return",function(){return null!=i&&i(),{done:!0}}),s(t,"next",function(){return{done:!1,value:r.length?Promise.resolve(r.shift()):new Promise(function(e){return n=e})}}),t},range:f.a.mark(function e(t,n,r){var i,a,s=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=+t,n=+n,r=(a=s.length)<2?(n=t,t=0,1):a<3?1:+r,i=-1,a=0|Math.max(0,Math.ceil((n-t)/r));case 2:if(++i<a)return e.next=5,t+i*r;e.next=7;break;case 5:e.next=2;break;case 7:case"end":return e.stop()}},e,this)}),valueAt:function(e,t){if(!(!isFinite(t=+t)||t<0||t!=t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value},worker:function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return ve(n,function(){n.terminate(),URL.revokeObjectURL(t)})}};function ye(d,f){return function(e){var t,n,r,i,a,s,o,u,c=e[0],l=[],p=null,h=-1;for(a=1,s=arguments.length;a<s;++a){if((t=arguments[a])instanceof Node)l[++h]=t,c+="\x3c!--o:"+h+"--\x3e";else if(Array.isArray(t)){for(o=0,u=t.length;o<u;++o)(n=t[o])instanceof Node?(null===p&&(l[++h]=p=document.createDocumentFragment(),c+="\x3c!--o:"+h+"--\x3e"),p.appendChild(n)):(p=null,c+=n);p=null}else c+=t;c+=e[a]}if(p=d(c),0<++h){for(r=new Array(h),i=document.createTreeWalker(p,NodeFilter.SHOW_COMMENT,null,!1);i.nextNode();)n=i.currentNode,/^o:/.test(n.nodeValue)&&(r[+n.nodeValue.slice(2)]=n);for(a=0;a<h;++a)(n=r[a])&&n.parentNode.replaceChild(l[a],n)}return 1===p.childNodes.length?p.removeChild(p.firstChild):11===p.nodeType?((n=f()).appendChild(p),n):p}}var we=ye(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("div")});function ke(t){var n;Object.defineProperties(this,{generator:{value:be(function(e){n=e})},value:{get:function(){return t},set:function(e){return n(t=e)}}}),void 0!==t&&n(t)}function _e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Date.now();case 2:e.next=0;break;case 4:case"end":return e.stop()}},a,this)}var Ee=new Map;function Ce(e,t){var n,r,i,a;return(n=Ee.get(e=+e))?n.then(ce(t)):(n=Date.now())>=e?Promise.resolve(t):(r=n,i=e,a=new Promise(function(e){Ee.delete(i);var t=i-r;if(!(0<t))throw new Error("invalid time");if(2147483647<t)throw new Error("too long to wait");setTimeout(e,t)}),Ee.set(i,a),a).then(ce(t))}var Se={delay:function(t,n){return new Promise(function(e){setTimeout(function(){e(n)},t)})},tick:function(e,t){return Ce(Math.ceil((Date.now()+1)/e)*e,t)},when:Ce};function Ae(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}var Ne=new Map,Te=[],Pe=Te.map,je=Te.some,Le=Te.hasOwnProperty,Oe="https://unpkg.com/",Ie=/^((?:@[^\/@]+\/)?[^\/@]+)(?:@([^\/]+))?(?:\/(.*))?$/,Re=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/;function Ve(e){return"string"==typeof e?e:""}function Me(e){var t=Ie.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function De(e){var t="".concat(Oe).concat(e.name).concat(e.version?"@".concat(e.version):"","/package.json"),n=Ne.get(t);return n||Ne.set(t,n=fetch(t).then(function(e){if(!e.ok)throw new Error("unable to load package.json");return e.redirected&&!Ne.has(e.url)&&Ne.set(e.url,n),e.json()})),n}var qe=Be(function(){var o,n=(o=f.a.mark(function e(t,n){var r,i,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith(Oe)&&(t=t.substring(Oe.length)),/^(\w+:)|\/\//i.test(t))return e.abrupt("return",t);e.next=2;break;case 2:if(/^[.]{0,2}\//i.test(t))return e.abrupt("return",new URL(t,null==n?location:n).href);e.next=4;break;case 4:if(!t.length||/^[\s._]/.test(t)||/\s$/.test(t))throw new Error("illegal name");e.next=6;break;case 6:if(r=Me(t)){e.next=9;break}return e.abrupt("return","".concat(Oe).concat(t));case 9:if(!r.version&&null!=n&&n.startsWith(Oe))return e.next=12,De(Me(n.substring(Oe.length)));e.next=14;break;case 12:i=e.sent,r.version=i.dependencies&&i.dependencies[r.name]||i.peerDependencies&&i.peerDependencies[r.name];case 14:if(r.path&&r.version&&Re.test(r.version))return e.abrupt("return","".concat(Oe).concat(r.name,"@").concat(r.version,"/").concat(r.path));e.next=16;break;case 16:return e.next=18,De(r);case 18:return a=e.sent,e.abrupt("return","".concat(Oe).concat(a.name,"@").concat(a.version,"/").concat(r.path||Ve(a.unpkg)||Ve(a.browser)||Ve(a.main)||"index.js"));case 20:case"end":return e.stop()}},e,this)}),function(){var e=this,s=arguments;return new Promise(function(t,n){var r=o.apply(e,s);function i(e){u(r,t,n,i,a,"next",e)}function a(e){u(r,t,n,i,a,"throw",e)}i(void 0)})});return function(e,t){return n.apply(this,arguments)}}());function Be(r){var t=new Map,n=a(null);function i(r){if("string"!=typeof r)return r;var e=t.get(r);return e||t.set(r,e=new Promise(function(e,t){var n=document.createElement("script");n.onload=function(){try{e(Te.pop()(a(r)))}catch(e){t(new Error("invalid module"))}n.remove()},n.onerror=function(){t(new Error("unable to load module")),n.remove()},n.async=!0,n.src=r,window.define=He,document.head.appendChild(n)})),e}function a(t){return function(e){return Promise.resolve(r(e,t)).then(i)}}function e(e){return 1<arguments.length?Promise.all(Pe.call(arguments,n)).then(Fe):n(e)}return e.alias=function(n){return Be(function(e,t){return e in n&&(t=null,"string"!=typeof(e=n[e]))?e:r(e,t)})},e.resolve=r,e}function Fe(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;for(var u in o)Le.call(o,u)&&(null==o[u]?Object.defineProperty(t,u,{get:Ue(o,u)}):t[u]=o[u])}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}function Ue(e,t){return function(){return e[t]}}function ze(e){return e+""=="exports"}function He(e,r,i){var t=arguments.length;t<2?(i=e,r=[]):t<3&&(i=r,r="string"==typeof e?[]:e),Te.push(je.call(r,ze)?function(t){var n={};return Promise.all(Pe.call(r,function(e){return ze(e+="")?n:t(e)})).then(function(e){return i.apply(null,e),n})}:function(e){return Promise.all(Pe.call(r,e)).then(function(e){return"function"==typeof i?i.apply(null,e):i})})}He.amd={};var Ge=ye(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}),We=String.raw;function Xe(r){return new Promise(function(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=r,n.onerror=t,n.onload=e,document.head.appendChild(n)})}var Je=28;function Ye(){return be(function(t){var n=t(window.innerWidth-Je);function e(){var e=window.innerWidth-Je;e!==n&&t(n=e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})}function Qe(e){var t,i,n=null==e?qe:Be(e);Object.defineProperties(this,{DOM:{value:de,writable:!0,enumerable:!0},Files:{value:fe,writable:!0,enumerable:!0},Generators:{value:xe,writable:!0,enumerable:!0},html:{value:ce(we),writable:!0,enumerable:!0},md:{value:(i=n,function(){return i("marked@0.3.12/marked.min.js").then(function(r){return ye(function(e){var t=document.createElement("div");t.innerHTML=r(e,{langPrefix:""}).trim();var n=t.querySelectorAll("pre code[class]");return 0<n.length&&i("@observablehq/highlight.js@1.1.1/highlight.min.js").then(function(e){n.forEach(e.highlightBlock)}),t},function(){return document.createElement("div")})})}),writable:!0,enumerable:!0},Mutable:{value:ce(ke),writable:!0,enumerable:!0},now:{value:_e,writable:!0,enumerable:!0},Promises:{value:Se,writable:!0,enumerable:!0},require:{value:ce(n),writable:!0,enumerable:!0},resolve:{value:ce(Ae),writable:!0,enumerable:!0},svg:{value:ce(Ge),writable:!0,enumerable:!0},tex:{value:(t=n,function(){return Promise.all([t("@observablehq/katex@0.10.1/dist/katex.min.js"),t.resolve("@observablehq/katex@0.10.1/dist/katex.min.css").then(Xe)]).then(function(e){var n=e[0],t=r();function r(t){return function(){var e=document.createElement("div");return n.render(We.apply(String,arguments),e,t),e.removeChild(e.firstChild)}}return t.block=r({displayMode:!0}),t})}),writable:!0,enumerable:!0},width:{value:Ye,writable:!0,enumerable:!0}})}function $e(e,t){this.message=e+"",this.input=t}($e.prototype=Object.create(Error.prototype)).name="RuntimeError",$e.prototype.constructor=$e;var Ke=Array.prototype,Ze=Ke.map,et=Ke.forEach;function tt(e){return function(){return e}}function nt(e){return e}function rt(){}var it=2,at={};function st(e,t,n){var r;null==n&&(n=at),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:ct,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:-1,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:rt,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==at,writable:!0},_rejector:{value:(r=this,function(e){if(e===ct)throw new $e(r._name+" is not defined",r._name);throw new $e(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function ot(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function ut(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function ct(){throw ct}function lt(e){return function(){throw new $e(e+" is defined more than once")}}function pt(e,t,n){var r=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(ut,this),t.forEach(ot,this),this._inputs=t,this._definition=n,this._value=void 0,e==this._name&&r.get(e)===this)this._outputs.forEach(i._updates.add,i._updates);else{var a,s;if(this._name)if(this._outputs.size)r.delete(this._name),(s=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,s._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(this)]=s},this),s._outputs.forEach(i._updates.add,i._updates),i._dirty.add(s).add(this),r.set(this._name,s);else if((s=r.get(this._name))===this)r.delete(this._name);else{if(3!==s._type)throw new Error;s._duplicates.delete(this),this._duplicate=void 0,1===s._duplicates.size&&(s=s._duplicates.keys().next().value,a=r.get(this._name),s._outputs=a._outputs,a._outputs=new Set,s._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(a)]=s}),s._definition=s._duplicate,s._duplicate=void 0,i._dirty.add(a).add(s),i._updates.add(s),r.set(this._name,s))}if(this._outputs.size)throw new Error;e&&((s=r.get(e))?3===s._type?(this._definition=lt(e),this._duplicate=n,s._duplicates.add(this)):s._type===it?(this._outputs=s._outputs,s._outputs=new Set,this._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(s)]=this},this),i._dirty.add(s).add(this),r.set(e,this)):(s._duplicate=s._definition,this._duplicate=n,(a=new st(3,this._module))._name=e,a._definition=this._definition=s._definition=lt(e),a._outputs=s._outputs,s._outputs=new Set,a._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(s)]=a}),a._duplicates=new Set([this,s]),i._dirty.add(s).add(a),i._updates.add(s).add(a),r.set(e,a)):r.set(e,this)),this._name=e}return i._updates.add(this),i._compute(),this}Object.defineProperties(st.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return pt.call(this,null==e?null:e+"",null==t?[]:Ze.call(t,this._module._resolve,this._module),"function"==typeof n?n:tt(n))},writable:!0,configurable:!0},delete:{value:function(){return pt.call(this,null,[],rt)},writable:!0,configurable:!0},import:{value:function(e,t,n){return arguments.length<3&&(n=t,t=e),pt.call(this,t+"",[n._resolve(e+"")],nt)},writable:!0,configurable:!0}});var ht=new Map;function dt(e){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map}})}function ft(e){return e._name}Object.defineProperties(dt.prototype,{_copy:{value:function(o,u,c){var l=new dt(this._runtime);return c.set(this,l),this._scope.forEach(function(e,t){var n,r=new st(e._type,l);if(n=o.get(t))r.import(n.name,n.alias,u);else if(e._definition===nt){var i=e._inputs[0],a=i._module,s=c.get(a)||a._copy(ht,null,c);r.import(i._name,t,s)}else r.define(t,e._inputs.map(ft),e._definition)}),l},writable:!0,configurable:!0},_resolve:{value:function(e){var t,n=this._scope.get(e);return n||(n=new st(it,this),this._runtime._builtin._scope.has(e)?n.import(e,this._runtime._builtin):void 0!==(t=this._runtime._global(e))?n.define(e,tt(t)):"invalidation"===e?n.define(e,mt):"visibility"===e?n.define(e,vt):this._scope.set(n._name=e,n)),n},writable:!0,configurable:!0},define:{value:function(){var e=new st(1,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){var n=new Map;return et.call(e,function(e){"object"!=Object(c.a)(e)&&(e={name:e+""}),null==e.alias&&(e.alias=e.name),n.set(e.alias,e)}),this._copy(n,t,new Map)},writable:!0,configurable:!0},import:{value:function(){var e=new st(1,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},variable:{value:function(e){return new st(1,this,e)},writable:!0,configurable:!0}});var mt={},vt={};function bt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return window[e]},n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var r in e)new st(it,n).define(r,[],e[r])}function gt(e){++e._indegree}function xt(e){return e._promise.catch(e._rejector)}function yt(t){return new Promise(function(e){t._invalidate=e})}function wt(e,t){var n,r,i="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,a=!i,s=rt,o=rt;return i&&((r=new IntersectionObserver(function(e){var t=d(e,1)[0];return(a=t.isIntersecting)&&(n=null,s())})).observe(i),e.then(function(){return r.disconnect(),r=null,o()})),function(e){return a?Promise.resolve(e):r?(n||(n=new Promise(function(e,t){return s=e,o=t})),n.then(function(){return e})):Promise.reject()}}function kt(r){r._invalidate(),r._invalidate=rt,r._pending();var i=r._value,a=++r._version,s=null,o=r._promise=Promise.all(r._inputs.map(xt)).then(function(e){if(r._version===a){for(var t=0,n=e.length;t<n;++t)switch(e[t]){case mt:e[t]=s=yt(r);break;case vt:s||(s=yt(r)),e[t]=wt(s,r)}return r._definition.apply(i,e)}}).then(function(e){return(t=e)&&"function"==typeof t.next&&"function"==typeof t.return?((s||yt(r)).then((n=e,function(){n.return()})),function(n,r,t,i){function a(){var t=new Promise(function(e){e(i.next())}).then(function(e){return e.done?void 0:Promise.resolve(e.value).then(function(e){if(n._version===r)return _t(n,e,t).then(a),n._fulfilled(e),e})});t.catch(function(e){n._version===r&&(_t(n,void 0,t),n._rejected(e))})}return new Promise(function(e){e(i.next())}).then(function(e){if(!e.done)return t.then(a),e.value})}(r,a,o,e)):e;var t,n});o.then(function(e){r._version===a&&(r._value=e,r._fulfilled(e))},function(e){r._version===a&&(r._value=void 0,r._rejected(e))})}function _t(e,t,n){var r=e._module._runtime;return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}Object.defineProperties(bt,{load:{value:function(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!=typeof n)throw new Error("invalid observer");null==t&&(t=new Qe);var r=e.modules,i=e.id,a=new Map,s=new bt(t),o=u(i);function u(e){var t=a.get(e);return t||a.set(e,t=s.module()),t}var c=!0,l=!1,p=void 0;try{for(var h,d=r[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m=u(f.id),v=0,b=!0,g=!1,x=void 0;try{for(var y,w=f.variables[Symbol.iterator]();!(b=(y=w.next()).done);b=!0){var k=y.value;k.from?m.import(k.remote,k.name,u(k.from)):m===o?m.variable(n(k,v,f.variables)).define(k.name,k.inputs,k.value):m.define(k.name,k.inputs,k.value),++v}}catch(e){g=!0,x=e}finally{try{b||null==w.return||w.return()}finally{if(g)throw x}}}}catch(e){l=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw p}}return s},writable:!0,configurable:!0}}),Object.defineProperties(bt.prototype,{_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){var t=this;return new Promise(function(e){requestAnimationFrame(function(){e(),t._computeNow()})})},writable:!0,configurable:!0},_computeNow:{value:function(){var n,e,t=[];for((n=new Set(this._dirty)).forEach(function(e){e._inputs.forEach(n.add,n);var t=function(e){if(e._observer!==at)return!0;var t=new Set(e._outputs),n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;if(o._observer!==at)return!0;o._outputs.forEach(t.add,t)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return!1}(e);t>e._reachable?this._updates.add(e):t<e._reachable&&e._invalidate(),e._reachable=t},this),(n=new Set(this._updates)).forEach(function(e){e._reachable?(e._indegree=0,e._outputs.forEach(n.add,n)):(e._indegree=-1,n.delete(e))}),this._computing=null,this._updates.clear(),this._dirty.clear(),n.forEach(function(e){e._outputs.forEach(gt)}),n.forEach(function(e){0===e._indegree&&t.push(e)});e=t.pop();)kt(e),e._outputs.forEach(r),n.delete(e);function r(e){0==--e._indegree&&t.push(e)}n.forEach(function(e){var t=new $e("circular definition");e._value=void 0,(e._promise=Promise.reject(t)).catch(rt),e._rejected(t)})},writable:!0,configurable:!0},module:{value:function(){return new dt(this)},writable:!0,configurable:!0}})},376:function(e,t,n){"use strict";var r=n(27),x=n.n(r),i=n(374);function a(){var e=Object(i.a)(["<style>\n  code.js {\n    display: block; \n    background: #fafafa;\n    padding: 12px;\n  }\n  code.bash {\n    display: block; \n    background: hsl(230, 50%, 19%);\n    padding: 12px;\n  }\n  code.bash, code.bash span {\n    color: #eee;\n  }\n  code span.highlight {\n    background: rgba(255,255,0,0.2);\n    padding: 2px 7px 3px 0;\n  }\n</style>"]);return a=function(){return e},e}function s(){var e=Object(i.a)(['<pre><code class="js hljs javascript">',"</code></pre>"]);return s=function(){return e},e}function o(){var e=Object(i.a)(['And boom. Your React app is now interacting with an Observable notebook.\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/e78ce7141b24a9553209f2e32663263f0f68aad6/react-animation-fast.png" style="max-width: 500px;" />\n\nCongratulations.']);return o=function(){return e},e}function u(){var e=Object(i.a)(["Fiddling with the input, you’ll notice that changes to `state.speed` aren’t affecting the animation ... yet. We have React state changes, but they aren't yet connected to the Observable runtime.\n\nLet’s fix that. In `componentDidMount`, we’ll store a reference this notebook’s `mutable speed` variable, and then use React’s `componentDidUpdate` callback to set that variable’s value."],["Fiddling with the input, you’ll notice that changes to \\`state.speed\\` aren’t affecting the animation ... yet. We have React state changes, but they aren't yet connected to the Observable runtime.\n\nLet’s fix that. In \\`componentDidMount\\`, we’ll store a reference this notebook’s \\`mutable speed\\` variable, and then use React’s \\`componentDidUpdate\\` callback to set that variable’s value."]);return u=function(){return e},e}function c(){var e=Object(i.a)(["Now let’s add a React control to the page. We’ll use a range `input`, connected to `state.speed`, and rendering the current speed back into the HTML."],["Now let’s add a React control to the page. We’ll use a range \\`input\\`, connected to \\`state.speed\\`, and rendering the current speed back into the HTML."]);return c=function(){return e},e}function l(){var e=Object(i.a)(['Now we’re ready to edit the generated `src/App.js`, importing the Runtime and the notebook, loading it up, and embedding the animation in the page. We’ll use a [React ref](https://reactjs.org/docs/refs-and-the-dom.html) to provide the Observable runtime with a reference to the React DOM that we can render into.\n\n```js\nimport React, {Component} from "react";\nimport {Runtime, Inspector} from "@observablehq/notebook-runtime";\nimport notebook from "how-to-embed-a-notebook-in-a-react-app";\n\nclass App extends Component {\n  animationRef = React.createRef();\n\n  componentDidMount() {\n    Runtime.load(notebook, (cell) => {\n      if (cell.name === "animation") {\n        return new Inspector(this.animationRef.current);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className="App">\n        <div ref={this.animationRef}></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n```\n\nVoilà. Your browser should already have refreshed:\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/dfed30c1613a73d292bddd311bce93bfe5ab9328/react-animation.png" style="max-width: 500px;" />\n'],['Now we’re ready to edit the generated \\`src/App.js\\`, importing the Runtime and the notebook, loading it up, and embedding the animation in the page. We’ll use a [React ref](https://reactjs.org/docs/refs-and-the-dom.html) to provide the Observable runtime with a reference to the React DOM that we can render into.\n\n\\`\\`\\`js\nimport React, {Component} from "react";\nimport {Runtime, Inspector} from "@observablehq/notebook-runtime";\nimport notebook from "how-to-embed-a-notebook-in-a-react-app";\n\nclass App extends Component {\n  animationRef = React.createRef();\n\n  componentDidMount() {\n    Runtime.load(notebook, (cell) => {\n      if (cell.name === "animation") {\n        return new Inspector(this.animationRef.current);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className="App">\n        <div ref={this.animationRef}></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\\`\\`\\`\n\nVoilà. Your browser should already have refreshed:\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/dfed30c1613a73d292bddd311bce93bfe5ab9328/react-animation.png" style="max-width: 500px;" />\n']);return l=function(){return e},e}function p(){var e=Object(i.a)(['Next, we’ll add the [Observable runtime](https://github.com/observablehq/notebook-runtime) and this notebook to the React app.\n\nTo install a notebook, you need the private URL, served as an npm (and Yarn) installable tarball with an *access key*. Normally, you’d retrieve that by clicking on **Download tarball** within your notebook’s menu.\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/2174d58a8148264983efc32212e4499ac5f3884e/tarball.png" style="max-width: 300px;" />\n\nBut since this is my notebook, not yours, I’ll just give you the secret URL instead:\n\n```\nhttps://api.observablehq.com/@jashkenas/how-to-embed-a-notebook-in-a-react-app.tgz?key=188f50f6a5f19b89\n```\n\nBack in the terminal, add the runtime and the notebook with Yarn or npm:\n\n```bash\nyarn add @observablehq/notebook-runtime\nyarn add https://api.observablehq.com/@jashkenas/how-to-embed-a-notebook-in-a-react-app.tgz?key=188f50f6a5f19b89\n```'],['Next, we’ll add the [Observable runtime](https://github.com/observablehq/notebook-runtime) and this notebook to the React app.\n\nTo install a notebook, you need the private URL, served as an npm (and Yarn) installable tarball with an *access key*. Normally, you’d retrieve that by clicking on **Download tarball** within your notebook’s menu.\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/2174d58a8148264983efc32212e4499ac5f3884e/tarball.png" style="max-width: 300px;" />\n\nBut since this is my notebook, not yours, I’ll just give you the secret URL instead:\n\n\\`\\`\\`\nhttps://api.observablehq.com/@jashkenas/how-to-embed-a-notebook-in-a-react-app.tgz?key=188f50f6a5f19b89\n\\`\\`\\`\n\nBack in the terminal, add the runtime and the notebook with Yarn or npm:\n\n\\`\\`\\`bash\nyarn add @observablehq/notebook-runtime\nyarn add https://api.observablehq.com/@jashkenas/how-to-embed-a-notebook-in-a-react-app.tgz?key=188f50f6a5f19b89\n\\`\\`\\`']);return p=function(){return e},e}function h(){var e=Object(i.a)(['Your browser quietly opens a new tab to [http://localhost:3000/](http://localhost:3000/). You see the “Welcome to React” starter page:\n\n<img src="https://gist.githubusercontent.com/jashkenas/4553bbb196e54b301eeca39c7d5cf3cb/raw/2174d58a8148264983efc32212e4499ac5f3884e/react-blank.png" style="max-width: 500px;" />']);return h=function(){return e},e}function d(){var e=Object(i.a)(["Here in this Observable notebook, you can control how fast the particles meander by moving the above `slider` to adjust their `mutable speed`.\n\nNow, let's start a brand new React app with [create-react-app](https://github.com/facebook/create-react-app). Open your Terminal:\n\n```bash\n> npx create-react-app pretty-animation\n\n... (installation flies by) ...\n\n> cd pretty-animation\n> yarn start\n```"],["Here in this Observable notebook, you can control how fast the particles meander by moving the above \\`slider\\` to adjust their \\`mutable speed\\`.\n\nNow, let's start a brand new React app with [create-react-app](https://github.com/facebook/create-react-app). Open your Terminal:\n\n\\`\\`\\`bash\n> npx create-react-app pretty-animation\n\n... (installation flies by) ...\n\n> cd pretty-animation\n> yarn start\n\\`\\`\\`"]);return d=function(){return e},e}function f(){var e=Object(i.a)(['<input type="range" min="0" max="1" step="0.1" value="0.1" />']);return f=function(){return e},e}function m(){var e=Object(i.a)(["# 🤔 How to: Embed a Notebook in a React App\n\nSquinting at them from a certain distance, [Observable notebooks](https://beta.observablehq.com/@mbostock/introduction-to-notebooks) and [React apps](https://reactjs.org/tutorial/tutorial.html) can look like close cousins: both are functional, reactive ways of writing UIs in JavaScript.\n\nLet’s see if we can get them to play nicely together, by embedding and controlling an Observable notebook from React.\n\nIf you haven’t already read the [introduction to downloading and embedding notebooks](https://beta.observablehq.com/@jashkenas/downloading-and-embedding-notebooks), read that first. No worries, I can wait.\n\nNow that we’re on the same page, let’s start with a small, pretty animation — particles drifting on a random walk, connected by faint lines when they approach one another."]);return m=function(){return e},e}var v={id:"361e9520c577183b@401",modules:[{id:"361e9520c577183b@401",variables:[{inputs:["md"],value:function(e){return e(m())}},{name:"animation",inputs:["DOM","width","mutable speed"],value:x.a.mark(function e(t,n,r){var i,a,s,o,u,c,l,p,h,d,f,m,v,b,g;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i=300,0,a=100,s=Math.pow(a,2),o=t.context2d(n,i),u=o.canvas,c=100,l=new Array(c),p=0;p<c;++p)l[p]={x:Math.random()*(n+2*a)-a,y:Math.random()*(i+2*a)-a,vx:0,vy:0};case 9:for(h=0;h<c;++h)(d=l[h]).x+=d.vx,d.x<-a?d.x+=n+a:d.x>n+a&&(d.x-=n+a),d.y+=d.vy,d.y<-a?d.y+=i+a:d.y>i+a&&(d.y-=i+a),d.vx+=r.value*(Math.random()-.5)-.01*d.vx,d.vy+=r.value*(Math.random()-.5)-.01*d.vy;for(f=0;f<c;++f)for(m=f+1;m<c;++m)v=l[f],b=l[m],(g=Math.pow(v.x-b.x,2)+Math.pow(v.y-b.y,2))<s&&(o.beginPath(),o.strokeStyle="hsl(0,0%,".concat(100-(s-g)/s*25,"%)"),o.moveTo(v.x,v.y),o.lineTo(b.x,b.y),o.stroke());return e.next=14,u;case 14:e.next=9;break;case 16:case"end":return e.stop()}},e,this)})},{name:"initial speed",value:function(){return.1}},{name:"mutable speed",inputs:["Mutable","initial speed"],value:function(e,t){return new e(t)}},{name:"speed",inputs:["mutable speed"],value:function(e){return e.generator}},{name:"slider",inputs:["html","mutable speed"],value:function(e,t){var n=e(f());return n.oninput=function(){return t.value=n.valueAsNumber},n}},{inputs:["md"],value:function(e){return e(d())}},{inputs:["md"],value:function(e){return e(h())}},{inputs:["md"],value:function(e){return e(p())}},{inputs:["md"],value:function(e){return e(l())}},{inputs:["md"],value:function(e){return e(c())}},{inputs:["highlight"],value:function(e){return e([2,13,14,15,21,22,23],'class App extends Component {\n  state = {speed: 0.1};\n  animationRef = React.createRef();\n\n  componentDidMount() {\n    Runtime.load(notebook, (cell) => {\n      if (cell.name === "animation") {\n        return new Inspector(this.animationRef.current);\n      }\n    });\n  }\n\n  setSpeed = (event) => {\n    this.setState({speed: event.target.valueAsNumber});\n  }\n\n  render() {\n    return (\n      <div className="App">\n        <div ref={this.animationRef}></div>\n        <small>Speed: {this.state.speed}</small>\n        <br />\n        <input type="range" min="0" max="2" step="0.1"\n          value={this.state.speed} onChange={this.setSpeed} />\n      </div>\n    );\n  }\n}')}},{inputs:["md"],value:function(e){return e(u())}},{inputs:["highlight"],value:function(e){return e([10,11,12,13,14,18,19,20,21,22],'class App extends Component {\n  this.state = {speed: 0.1};\n  this.animationRef = React.createRef();\n\n  componentDidMount() {\n    Runtime.load(notebook, (cell) => {\n      if (cell.name === "animation") {\n        return new Inspector(this.animationRef.current);\n      }\n      if (cell.name === "mutable speed") {\n        return {fulfilled: (value) => {\n          this.animationSpeed = value;\n        }};\n      }\n    });\n  }\n\n  componentDidUpdate(nextProps, nextState) {\n    if (nextState.speed !== this.state.speed) {\n      this.animationSpeed.value = nextState.speed;\n    }\n  }\n\n  setSpeed = (event) => {\n    this.setState({speed: event.target.valueAsNumber});\n  }\n\n  render() {\n    return (\n      <div className="App">\n        <div ref={this.animationRef}></div>\n        <small>Speed: {this.state.speed}</small>\n        <br />\n        <input type="range" min="0" max="2" step="0.1"\n          value={this.state.speed} onChange={this.setSpeed} />\n      </div>\n    );\n  }\n}')}},{inputs:["md"],value:function(e){return e(o())}},{name:"highlight",inputs:["hljs","html"],value:function(r,i){return function(n,e){var t=r.highlightAuto(e,["js"]).value;return t=t.split(/\r?\n/).map(function(e,t){return-1<n.indexOf(t+1)?'<span class="highlight">'.concat(e,"</span>"):e}).join("\n"),i(s(),t)}}},{name:"hljs",inputs:["require"],value:function(e){return e("https://bundle.run/highlight.js@9.12.0")}},{name:"styles",inputs:["html"],value:function(e){return e(a())}}]}]};t.a=v},377:function(e,t,n){"use strict";var r=n(374);function v(){var e=Object(r.a)(['<div style="font-size: 0.85rem; font-style: italic;">',"</div>"]);return v=function(){return e},e}function b(){var e=Object(r.a)(['<div style="font: 700 0.9rem sans-serif;">',"</div>"]);return b=function(){return e},e}function g(){var e=Object(r.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>']);return g=function(){return e},e}function x(){var e=Object(r.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />']);return x=function(){return e},e}function y(){var e=Object(r.a)(["<form>\n\t<input name=input type="," />\n  </form>"]);return y=function(){return e},e}function c(){var e=Object(r.a)(["\n      <form>\n        ","\n      </form>\n    "]);return c=function(){return e},e}function i(){var e=Object(r.a)(["---\n\n## Misc imports"]);return i=function(){return e},e}function a(){var e=Object(r.a)(["---\n\n## Luminance curves"]);return a=function(){return e},e}function s(){var e=Object(r.a)(["The upper section of the background (10 pixels from the top) is continously read in order to show the perceived luminance: real luminance - background luminance(10 pixels from the bottom). This curve explains nicely why we see what we see. ***(hint: try to drag the rectangles at the top of the area and see what happen).***"]);return s=function(){return e},e}function o(){var e=Object(r.a)(["<center><strong> - </strong></center>"]);return o=function(){return e},e}function u(){var e=Object(r.a)(["<center><strong> = </strong></center>"]);return u=function(){return e},e}function l(){var e=Object(r.a)(['<canvas width="960" height="300"></canvas>']);return l=function(){return e},e}function p(){var e=Object(r.a)(["<button>Show me the rectangles</button>"]);return p=function(){return e},e}function h(){var e=Object(r.a)(["Strangely enough, a uniform color appears like being a gradient. Try it."]);return h=function(){return e},e}function d(){var e=Object(r.a)(['# Perception Illusion (part I)\nThis is a well known optical illusion that I recreated with d3/canvas after discovering this Japanese [website](http://www.psy.ritsumei.ac.jp/~akitaoka/kosaku2e.html). I was amazed by the magic of the appearing/disappearing shapes and deligthed by the luminance curve which says a lot about the way our vision works.   \n\nThe color area hides rectangles having the exact same color of their background. By dragging them around with mouse or finger you wont believe that their color is not changing. ***(hint: press " Show me " button to see them first).*** \n\nOnce visible, try to replace the shape at the location where it is perfectly hidden.']);return d=function(){return e},e}var f={id:"3810610548ede024@595",modules:[{id:"3810610548ede024@595",variables:[{inputs:["md"],value:function(e){return e(d())}},{name:"viewof uniform",inputs:["checkbox"],value:function(e){return e({options:[{value:"true",label:"Uniform color"}],value:!1})}},{name:"uniform",inputs:["Generators","viewof uniform"],value:function(e,t){return e.input(t)}},{inputs:["md"],value:function(e){return e(h())}},{name:"viewof blackwhite",inputs:["checkbox"],value:function(e){return e({options:[{value:"true",label:"Grey scale"}],value:!1})}},{name:"blackwhite",inputs:["Generators","viewof blackwhite"],value:function(e,t){return e.input(t)}},{name:"viewof show",inputs:["html"],value:function(e){return e(p())}},{name:"show",inputs:["Generators","viewof show"],value:function(e,t){return e.input(t)}},{inputs:["html"],value:function(e){return e(l())}},{name:"PerceivedLuminance",inputs:["d3","DOM","width","heightChart","dataDiff","lineD"],value:function(e,t,n,r,i,a){var s=e.select(t.svg(n,r));return s.append("path").datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",a),s.node()}},{inputs:["md"],value:function(e){return e(u())}},{name:"RealLuminance",inputs:["d3","DOM","width","heightChart","data","line"],value:function(e,t,n,r,i,a){var s=e.select(t.svg(n,r));return s.append("path").datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",a),s.node()}},{inputs:["md"],value:function(e){return e(o())}},{name:"Background",inputs:["d3","DOM","width","heightChart","dataApp","lineL"],value:function(e,t,n,r,i,a){var s=e.select(t.svg(n,r));return s.append("path").datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",a),s.node()}},{inputs:["md"],value:function(e){return e(s())}},{name:"width",value:function(){return 800}},{name:"height",value:function(){return 300}},{name:"rects",value:function(){return[[250,200,150,70],[350,100,150,70],[450,5,150,70]]}},{name:"canvas",inputs:["d3","width","height"],value:function(e,t,n){var r=e.select("canvas");return r.property("width",t),r.property("height",n),r}},{name:"context",inputs:["canvas"],value:function(e){return e.node().getContext("2d")}},{name:"initialColor",inputs:["getColor","context","d3"],value:function(r,i,a){return function(e){var t=r(i,e[0],10),n=r(i,e[0]+e[2],10);e[4]=a.rgb.apply(null,t).hex(),e[5]=a.rgb.apply(null,n).hex()}}},{name:"grd",inputs:["context","width","blackwhite","d3"],value:function(e,t,n,r){var i=e.createLinearGradient(0,0,t,0);return i.addColorStop(0,n?"black":r.rgb(255,255,0)),i.addColorStop(1,n?"white":r.rgb(255,0,0)),i}},{inputs:["canvas","d3","dragsubject","dragged","render"],value:function(e,t,n,r,i){e.call(t.drag().subject(n).on("drag",r)).call(i,!0)}},{name:"dragsubject",inputs:["d3","rects"],value:function(s,o){return function(){var e,t,n,r=s.event.x,i=s.event.y;for(e=o.length-1;0<=e;--e){var a=o[e];if(t=r-a[0],n=i-a[1],0<t&&t<a[2]&&0<n&&n<a[3])return a.x=a[0],a.y=a[1],a}}}},{name:"dragged",inputs:["d3","render"],value:function(e,t){return function(){e.event.subject[0]=e.event.x,e.event.subject[1]=e.event.y,t(!0)}}},{name:"initial flag",value:function(){return!1}},{name:"mutable flag",inputs:["Mutable","initial flag"],value:function(e,t){return new e(t)}},{name:"flag",inputs:["mutable flag"],value:function(e){return e.generator}},{name:"render",inputs:["context","width","height","grd","rects","draw","mutable flag"],value:function(e,r,i,a,s,o,u){return function(t,n){e.clearRect(0,0,r,i),e.fillStyle=a,e.fillRect(0,0,r,i),s.forEach(function(e){return o(e,t,n)}),e.fill(),u.value=!0}}},{name:"draw",inputs:["initialColor","uniform","context","d3"],value:function(s,o,u,c){return function(e,t,n){var r;if(e[4]&&!n||s(e),o){var i=c.color(e[4]).rgb(),a=c.color(e[5]).rgb();console.log(i,a),r=c.rgb((i.r+a.r)/2,(i.g+a.g)/2,(i.b+a.b)/2).hex()}else(r=u.createLinearGradient(e[0],0,e[0]+e[2],0)).addColorStop(0,e[4]),r.addColorStop(1,e[5]);u.fillStyle=r,u.fillRect(e[0],e[1],e[2],e[3]),t||(u.strokeStyle="#FFFFFF",u.strokeRect(e[0],e[1],e[2],e[3]),u.stroke())}}},{inputs:["show","render","d3"],value:function(e,t,n){t(!1),n.timeout(function(){return t(!0)},500)}},{inputs:["blackwhite","render"],value:function(e,t){t(!0,!0)}},{inputs:["md"],value:function(e){return e(a())}},{name:"data",inputs:["d3","nb","luminance","getColor","context","width","flag"],value:function(e,t,n,r,i,a,s){return e.range(t).map(function(e){return n(r(i,e*a/t,10,s))})}},{name:"dataApp",inputs:["d3","nb","luminance","getColor","context","width","height","flag"],value:function(e,t,n,r,i,a,s,o){return e.range(t).map(function(e){return n(r(i,e*a/t,s-10,o))})}},{name:"dataDiff",inputs:["data","dataApp"],value:function(n,r){return n.map(function(e,t){return n[t]-r[t]})}},{name:"heightChart",value:function(){return 100}},{name:"x",inputs:["d3","nb","width"],value:function(e,t,n){return e.scaleLinear().domain([0,t]).range([0,n])}},{name:"line",inputs:["d3","x","data","heightChart"],value:function(t,n,r,i){return t.line().defined(function(e){return!isNaN(e)}).x(function(e,t){return n(t)}).y(function(e){return t.scaleLinear().domain([0,t.max(r,function(e){return e})]).nice().range([i,0])(e)})}},{name:"lineL",inputs:["d3","x","dataApp","heightChart"],value:function(t,n,r,i){return t.line().defined(function(e){return!isNaN(e)}).x(function(e,t){return n(t)}).y(function(e){return t.scaleLinear().domain([0,t.max(r)]).nice().range([i,0])(e)})}},{name:"lineD",inputs:["d3","x","dataDiff","heightChart"],value:function(t,n,r,i){return t.line().defined(function(e){return!isNaN(e)}).x(function(e,t){return n(t)}).y(function(e){return t.scaleLinear().domain(t.extent(r)).nice().range([i,0])(e)})}},{name:"nb",value:function(){return 150}},{name:"luminance",value:function(){return function(e){return.2126*e[0]+.7152*e[1]+.0722*e[2]}}},{name:"getColor",value:function(){return function(e,t,n){return e.getImageData(t,n,1,1).data}}},{inputs:["md"],value:function(e){return e(i())}},{name:"d3",inputs:["require"],value:function(e){return e("d3")}},{from:"@jashkenas/inputs",name:"checkbox",remote:"checkbox"},{from:"@jashkenas/inputs",name:"button",remote:"button"}]},{id:"@jashkenas/inputs",variables:[{name:"checkbox",inputs:["input","html"],value:function(o,u){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.value,t=e.title,n=e.description,i=e.submit,a=e.options;Array.isArray(e)&&(a=e),a=a.map(function(e){return"string"==typeof e?{value:e,label:e}:e});var s=o({type:"checkbox",title:t,description:n,submit:i,getValue:function(e){return e.length?Array.prototype.filter.call(e,function(e){return e.checked}).map(function(e){return e.value}):!!e.checked&&e.value},form:u(c(),a.map(function(e){var t=e.value,n=e.label;return'\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           <input type=checkbox name=input value="'.concat(t||"on",'" ').concat(-1<(r||[]).indexOf(t)?"checked":"",' style="vertical-align: baseline;" />\n           ').concat(n,"\n          </label>\n        ")}))});return s.output.remove(),s}}},{name:"button",inputs:["input"],value:function(s){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.title,r=e.description,i=e.disabled;"string"==typeof e&&(t=e),t||(t="Ok");var a=s({type:"button",title:n,description:r,attributes:{disabled:i,value:t}});return a.output.remove(),a}}},{name:"input",inputs:["html","d3format"],value:function(f,m){return function(e){var n=e.form,t=e.type,r=void 0===t?"text":t,i=e.attributes,a=void 0===i?{}:i,s=e.action,o=e.getValue,u=e.title,c=e.description,l=e.format,p=e.submit;e.options;n||(n=f(y(),r));var h=n.input;if(Object.keys(a).forEach(function(e){var t=a[e];null!=t&&h.setAttribute(e,t)}),p&&n.append(f(x(),"string"==typeof p?p:"Submit")),n.append(f(g())),u&&n.prepend(f(b(),u)),c&&n.append(f(v(),c)),l&&(l=m.format(l)),s)s(n);else{var d=p?"onsubmit":"button"==r?"onclick":"checkbox"==r||"radio"==r?"onchange":"oninput";n[d]=function(e){e&&e.preventDefault();var t=o?o(h):h.value;n.output&&(n.output.value=l?l(t):t),n.value=t,"oninput"!==d&&n.dispatchEvent(new CustomEvent("input"))},"oninput"!==d&&(h.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==d&&(n.onsubmit=function(e){return e&&e.preventDefault()}),n[d]()}return n}}},{name:"d3format",inputs:["require"],value:function(e){return e("d3-format")}}]}]};t.a=f},378:function(e,a,s){(function(e){var t,n,r,i,d=s(3);i=function(n){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==d(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canHaveChildren=function(e){return-1===r.indexOf(e.toLowerCase())},t.canHaveWhitespace=function(e){return-1!==i.indexOf(e.toLowerCase())},t.default=void 0;var r=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],i=["table","tbody","tfoot","thead","tr"],a=r;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={class:"className",for:"htmlFor",maxlength:"maxLength",colspan:"colSpan",rowspan:"rowSpan"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t){return function e(t,n){var r,i=function(e){if(Array.isArray(e))return e}(r=n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),a=i[0],s=i.slice(1);if(null!=t&&null!=a)return 0===s.length?t[a]:e(t[a],s)}(e,null==t||""===t?[]:t.split("."))}},function(e,t,n){"use strict";function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,n=0;return String(e).split("").forEach(function(e){n=(n<<5)-n+e.charCodeAt(0),n&=n}),Math.abs(n).toString(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.randomHash=void 0,t.randomHash=function(){return r(Math.random().toString())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([A-Z])([A-Z])/g,"$1 $2").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/[^a-zA-Z\u00C0-\u00ff]/g," ").toLowerCase().split(" ").filter(function(e){return e}).map(function(e,t){return 0<t?e[0].toUpperCase()+e.slice(1):e}).join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(s(e)){case"string":return e.split(";").filter(function(e){return e}).reduce(function(e,t){var n=t.slice(0,t.indexOf(":")).trim(),r=t.slice(t.indexOf(":")+1).trim();return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},e,a({},(0,i.default)(n),r))},{});case"object":return e;default:return}};var r,i=(r=n(4))&&r.__esModule?r:{default:r};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}},function(e,t){e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"version",function(){return _e}),n.d(t,"parse",function(){return Ee}),n.d(t,"parseExpressionAt",function(){return Ce}),n.d(t,"tokenizer",function(){return Se}),n.d(t,"parse_dammit",function(){return ye}),n.d(t,"LooseParser",function(){return we}),n.d(t,"pluginsLoose",function(){return ke}),n.d(t,"addLooseExports",function(){return Ae}),n.d(t,"Parser",function(){return q}),n.d(t,"plugins",function(){return M}),n.d(t,"defaultOptions",function(){return V}),n.d(t,"Position",function(){return O}),n.d(t,"SourceLocation",function(){return I}),n.d(t,"getLineInfo",function(){return R}),n.d(t,"Node",function(){return Z}),n.d(t,"TokenType",function(){return v}),n.d(t,"tokTypes",function(){return k}),n.d(t,"keywordTypes",function(){return y}),n.d(t,"TokContext",function(){return ne}),n.d(t,"tokContexts",function(){return re}),n.d(t,"isIdentifierChar",function(){return m}),n.d(t,"isIdentifierStart",function(){return f}),n.d(t,"Token",function(){return ve}),n.d(t,"isNewLine",function(){return C}),n.d(t,"lineBreak",function(){return _}),n.d(t,"lineBreakG",function(){return E}),n.d(t,"nonASCIIwhitespace",function(){return S});var s={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:r,6:r+" const class extends export import super"},a=/^in(stanceof)?$/,i="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",u="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",c=new RegExp("["+i+"]"),l=new RegExp("["+i+u+"]");i=u=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,190,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,26,230,43,117,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,68,12,0,67,12,65,1,31,6129,15,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function d(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function f(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?170<=e&&c.test(String.fromCharCode(e)):!1!==t&&d(e,p)))}function m(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?170<=e&&l.test(String.fromCharCode(e)):!1!==t&&(d(e,p)||d(e,h)))))}var v=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function b(e,t){return new v(e,{beforeExpr:!0,binop:t})}var g={beforeExpr:!0},x={startsExpr:!0},y={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,y[e]=new v(e,t)}var k={num:new v("num",x),regexp:new v("regexp",x),string:new v("string",x),name:new v("name",x),eof:new v("eof"),bracketL:new v("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new v("]"),braceL:new v("{",{beforeExpr:!0,startsExpr:!0}),braceR:new v("}"),parenL:new v("(",{beforeExpr:!0,startsExpr:!0}),parenR:new v(")"),comma:new v(",",g),semi:new v(";",g),colon:new v(":",g),dot:new v("."),question:new v("?",g),arrow:new v("=>",g),template:new v("template"),invalidTemplate:new v("invalidTemplate"),ellipsis:new v("...",g),backQuote:new v("`",x),dollarBraceL:new v("${",{beforeExpr:!0,startsExpr:!0}),eq:new v("=",{beforeExpr:!0,isAssign:!0}),assign:new v("_=",{beforeExpr:!0,isAssign:!0}),incDec:new v("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new v("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:b("||",1),logicalAND:b("&&",2),bitwiseOR:b("|",3),bitwiseXOR:b("^",4),bitwiseAND:b("&",5),equality:b("==/!=/===/!==",6),relational:b("</>/<=/>=",7),bitShift:b("<</>>/>>>",8),plusMin:new v("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:b("%",10),star:b("*",10),slash:b("/",10),starstar:new v("**",{beforeExpr:!0}),_break:w("break"),_case:w("case",g),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",g),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",g),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",x),_if:w("if"),_return:w("return",g),_switch:w("switch"),_throw:w("throw",g),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",x),_super:w("super",x),_class:w("class",x),_extends:w("extends",g),_export:w("export"),_import:w("import"),_null:w("null",x),_true:w("true",x),_false:w("false",x),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},_=/\r\n?|\n|\u2028|\u2029/,E=new RegExp(_.source,"g");function C(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var S=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,A=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,N=Object.prototype,T=N.hasOwnProperty,P=N.toString;function j(e,t){return T.call(e,t)}var L=Array.isArray||function(e){return"[object Array]"===P.call(e)},O=function(e,t){this.line=e,this.column=t};O.prototype.offset=function(e){return new O(this.line,this.column+e)};var I=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function R(e,t){for(var n=1,r=0;;){E.lastIndex=r;var i=E.exec(e);if(!(i&&i.index<t))return new O(n,t-r);++n,r=i.index+i[0].length}}var V={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};var M={};function D(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var q=function(e,t,n){this.options=e=function(e){var o,u,t={};for(var n in V)t[n]=e&&j(e,n)?e[n]:V[n];if(2015<=t.ecmaVersion&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),L(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return L(t.onComment)&&(t.onComment=(u=(o=t).onComment,function(e,t,n,r,i,a){var s={type:e?"Block":"Line",value:t,start:n,end:r};o.locations&&(s.loc=new I(this,i,a)),o.ranges&&(s.range=[n,r]),u.push(s)})),t}(e),this.sourceFile=e.sourceFile,this.keywords=D(o[6<=e.ecmaVersion?6:5]);var r="";if(!e.allowReserved){for(var i=e.ecmaVersion;!(r=s[i]);i--);"module"===e.sourceType&&(r+=" await")}this.reservedWords=D(r);var a=(r?r+" ":"")+s.strict;this.reservedWordsStrict=D(a),this.reservedWordsStrictBind=D(a+" "+s.strictBind),this.input=String(t),this.containsEsc=!1,this.loadPlugins(e.plugins),this.curLine=n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.input.slice(0,this.lineStart).split(_).length):(this.pos=this.lineStart=0,1),this.type=k.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};q.prototype.isKeyword=function(e){return this.keywords.test(e)},q.prototype.isReservedWord=function(e){return this.reservedWords.test(e)},q.prototype.extend=function(e,t){this[e]=t(this[e])},q.prototype.loadPlugins=function(e){for(var t in e){var n=M[t];if(!n)throw new Error("Plugin '"+t+"' not found");n(this,e[t])}},q.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};var B=q.prototype,F=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;function U(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}B.strictDirective=function(e){for(;;){A.lastIndex=e,e+=A.exec(this.input)[0].length;var t=F.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length}},B.eat=function(e){return this.type===e&&(this.next(),!0)},B.isContextual=function(e){return this.type===k.name&&this.value===e&&!this.containsEsc},B.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},B.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},B.canInsertSemicolon=function(){return this.type===k.eof||this.type===k.braceR||_.test(this.input.slice(this.lastTokEnd,this.start))},B.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},B.semicolon=function(){this.eat(k.semi)||this.insertSemicolon()||this.unexpected()},B.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},B.expect=function(e){this.eat(e)||this.unexpected()},B.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},B.checkPatternErrors=function(e,t){if(e){-1<e.trailingComma&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;-1<n&&this.raiseRecoverable(n,"Parenthesized pattern")}},B.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return 0<=n||0<=r;0<=n&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),0<=r&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},B.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},B.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var z=q.prototype;z.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==k.eof;){var n=this.parseStatement(!0,!0,t);e.body.push(n)}return this.adaptDirectivePrologue(e.body),this.next(),6<=this.options.ecmaVersion&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var H={kind:"loop"},G={kind:"switch"};z.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;A.lastIndex=this.pos;var e=A.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(91===n||123===n)return!0;if(f(n,!0)){for(var r=t+1;m(this.input.charCodeAt(r),!0);)++r;var i=this.input.slice(t,r);if(!a.test(i))return!0}return!1},z.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;A.lastIndex=this.pos;var e=A.exec(this.input),t=this.pos+e[0].length;return!(_.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&m(this.input.charAt(t+8)))},z.parseStatement=function(e,t,n){var r,i=this.type,a=this.startNode();switch(this.isLet()&&(i=k._var,r="let"),i){case k._break:case k._continue:return this.parseBreakContinueStatement(a,i.keyword);case k._debugger:return this.parseDebuggerStatement(a);case k._do:return this.parseDoStatement(a);case k._for:return this.parseForStatement(a);case k._function:return!e&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(a,!1);case k._class:return e||this.unexpected(),this.parseClass(a,!0);case k._if:return this.parseIfStatement(a);case k._return:return this.parseReturnStatement(a);case k._switch:return this.parseSwitchStatement(a);case k._throw:return this.parseThrowStatement(a);case k._try:return this.parseTryStatement(a);case k._const:case k._var:return r=r||this.value,e||"var"===r||this.unexpected(),this.parseVarStatement(a,r);case k._while:return this.parseWhileStatement(a);case k._with:return this.parseWithStatement(a);case k.braceL:return this.parseBlock();case k.semi:return this.parseEmptyStatement(a);case k._export:case k._import:return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===k._import?this.parseImport(a):this.parseExport(a,n);default:if(this.isAsyncFunction())return e||this.unexpected(),this.next(),this.parseFunctionStatement(a,!0);var s=this.value,o=this.parseExpression();return i===k.name&&"Identifier"===o.type&&this.eat(k.colon)?this.parseLabeledStatement(a,s,o):this.parseExpressionStatement(a,o)}},z.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(k.semi)||this.insertSemicolon()?e.label=null:this.type!==k.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},z.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},z.parseDoStatement=function(e){return this.next(),this.labels.push(H),e.body=this.parseStatement(!1),this.labels.pop(),this.expect(k._while),e.test=this.parseParenExpression(),6<=this.options.ecmaVersion?this.eat(k.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},z.parseForStatement=function(e){this.next();var t=9<=this.options.ecmaVersion&&this.inAsync&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(H),this.enterLexicalScope(),this.expect(k.parenL),this.type===k.semi)return-1<t&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===k._var||this.type===k._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),!(this.type===k._in||6<=this.options.ecmaVersion&&this.isContextual("of"))||1!==r.declarations.length||"var"!==i&&r.declarations[0].init?(-1<t&&this.unexpected(t),this.parseFor(e,r)):(9<=this.options.ecmaVersion&&(this.type===k._in?-1<t&&this.unexpected(t):e.await=-1<t),this.parseForIn(e,r))}var a=new U,s=this.parseExpression(!0,a);return this.type===k._in||6<=this.options.ecmaVersion&&this.isContextual("of")?(9<=this.options.ecmaVersion&&(this.type===k._in?-1<t&&this.unexpected(t):e.await=-1<t),this.toAssignable(s,!1,a),this.checkLVal(s),this.parseForIn(e,s)):(this.checkExpressionErrors(a,!0),-1<t&&this.unexpected(t),this.parseFor(e,s))},z.parseFunctionStatement=function(e,t){return this.next(),this.parseFunction(e,!0,!1,t)},z.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!this.strict&&this.type===k._function),e.alternate=this.eat(k._else)?this.parseStatement(!this.strict&&this.type===k._function):null,this.finishNode(e,"IfStatement")},z.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(k.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},z.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(k.braceL),this.labels.push(G),this.enterLexicalScope();for(var n=!1;this.type!==k.braceR;)if(this.type===k._case||this.type===k._default){var r=this.type===k._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),t.test=r?this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,null),this.expect(k.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(!0));return this.exitLexicalScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},z.parseThrowStatement=function(e){return this.next(),_.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var W=[];z.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===k._catch){var t=this.startNode();this.next(),this.eat(k.parenL)?(t.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(t.param,"let"),this.expect(k.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterLexicalScope()),t.body=this.parseBlock(!1),this.exitLexicalScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(k._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},z.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},z.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(H),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"WhileStatement")},z.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},z.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},z.parseLabeledStatement=function(e,t,n){for(var r=0,i=this.labels;r<i.length;r+=1)i[r].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===k._switch?"switch":null,s=this.labels.length-1;0<=s;s--){var o=this.labels[s];if(o.statementStart!==e.start)break;o.statementStart=this.start,o.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(!0),("ClassDeclaration"===e.body.type||"VariableDeclaration"===e.body.type&&"var"!==e.body.kind||"FunctionDeclaration"===e.body.type&&(this.strict||e.body.generator))&&this.raiseRecoverable(e.body.start,"Invalid labeled declaration"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},z.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},z.parseBlock=function(e){void 0===e&&(e=!0);var t=this.startNode();for(t.body=[],this.expect(k.braceL),e&&this.enterLexicalScope();!this.eat(k.braceR);){var n=this.parseStatement(!0);t.body.push(n)}return e&&this.exitLexicalScope(),this.finishNode(t,"BlockStatement")},z.parseFor=function(e,t){return e.init=t,this.expect(k.semi),e.test=this.type===k.semi?null:this.parseExpression(),this.expect(k.semi),e.update=this.type===k.parenR?null:this.parseExpression(),this.expect(k.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"ForStatement")},z.parseForIn=function(e,t){var n=this.type===k._in?"ForInStatement":"ForOfStatement";return this.next(),"ForInStatement"===n&&("AssignmentPattern"===t.type||"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(this.strict||"Identifier"!==t.declarations[0].id.type))&&this.raise(t.start,"Invalid assignment in for-in loop head"),e.left=t,e.right="ForInStatement"===n?this.parseExpression():this.parseMaybeAssign(),this.expect(k.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,n)},z.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(k.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===k._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===k._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(k.comma))break}return e},z.parseVarId=function(e,t){e.id=this.parseBindingAtom(t),this.checkLVal(e.id,t,!1)},z.parseFunction=function(e,t,n,r){this.initFunction(e),(9<=this.options.ecmaVersion||6<=this.options.ecmaVersion&&!r)&&(e.generator=this.eat(k.star)),8<=this.options.ecmaVersion&&(e.async=!!r),t&&(e.id="nullableID"===t&&this.type!==k.name?null:this.parseIdent(),e.id&&this.checkLVal(e.id,"var"));var i=this.inGenerator,a=this.inAsync,s=this.yieldPos,o=this.awaitPos,u=this.inFunction;return this.inGenerator=e.generator,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),t||(e.id=this.type===k.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n),this.inGenerator=i,this.inAsync=a,this.yieldPos=s,this.awaitPos=o,this.inFunction=u,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},z.parseFunctionParams=function(e){this.expect(k.parenL),e.params=this.parseBindingList(k.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams()},z.parseClass=function(e,t){this.next(),this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),r=!1;for(n.body=[],this.expect(k.braceL);!this.eat(k.braceR);){var i=this.parseClassMember(n);i&&"MethodDefinition"===i.type&&"constructor"===i.kind&&(r&&this.raise(i.start,"Duplicate constructor in the same class"),r=!0)}return e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},z.parseClassMember=function(e){var i=this;if(this.eat(k.semi))return null;var a=this.startNode(),t=function(e,t){void 0===t&&(t=!1);var n=i.start,r=i.startLoc;return!(!i.eatContextual(e)||(i.type===k.parenL||t&&i.canInsertSemicolon())&&(a.key&&i.unexpected(),a.computed=!1,a.key=i.startNodeAt(n,r),a.key.name=e,i.finishNode(a.key,"Identifier"),1))};a.kind="method",a.static=t("static");var n=this.eat(k.star),r=!1;n||(8<=this.options.ecmaVersion&&t("async",!0)?(r=!0,n=9<=this.options.ecmaVersion&&this.eat(k.star)):t("get")?a.kind="get":t("set")&&(a.kind="set")),a.key||this.parsePropertyName(a);var s=a.key;return a.computed||a.static||!("Identifier"===s.type&&"constructor"===s.name||"Literal"===s.type&&"constructor"===s.value)?a.static&&"Identifier"===s.type&&"prototype"===s.name&&this.raise(s.start,"Classes may not have a static property named prototype"):("method"!==a.kind&&this.raise(s.start,"Constructor can't have get/set modifier"),n&&this.raise(s.start,"Constructor can't be a generator"),r&&this.raise(s.start,"Constructor can't be an async method"),a.kind="constructor"),this.parseClassMethod(e,a,n,r),"get"===a.kind&&0!==a.value.params.length&&this.raiseRecoverable(a.value.start,"getter should have no params"),"set"===a.kind&&1!==a.value.params.length&&this.raiseRecoverable(a.value.start,"setter should have exactly one param"),"set"===a.kind&&"RestElement"===a.value.params[0].type&&this.raiseRecoverable(a.value.params[0].start,"Setter cannot use rest params"),a},z.parseClassMethod=function(e,t,n,r){t.value=this.parseMethod(n,r),e.body.push(this.finishNode(t,"MethodDefinition"))},z.parseClassId=function(e,t){e.id=this.type===k.name?this.parseIdent():!0===t?this.unexpected():null},z.parseClassSuper=function(e){e.superClass=this.eat(k._extends)?this.parseExprSubscripts():null},z.parseExport=function(e,t){if(this.next(),this.eat(k.star))return this.expectContextual("from"),this.type!==k.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(k._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===k._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,"nullableID",!1,n)}else if(this.type===k._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(!0),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==k.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var a=0,s=e.specifiers;a<s.length;a+=1){var o=s[a];this.checkUnreserved(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},z.checkExport=function(e,t,n){e&&(j(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},z.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.checkPatternExport(e,a)}else if("ArrayPattern"===n)for(var s=0,o=t.elements;s<o.length;s+=1){var u=o[s];u&&this.checkPatternExport(e,u)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},z.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},z.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},z.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(k.braceL);!this.eat(k.braceR);){if(n)n=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},z.parseImport=function(e){return this.next(),this.type===k.string?(e.specifiers=W,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===k.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},z.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===k.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,"let"),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(k.comma))return e}if(this.type===k.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,"let"),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(k.braceL);!this.eat(k.braceR);){if(t)t=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,"let"),e.push(this.finishNode(i,"ImportSpecifier"))}return e},z.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},z.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var X=q.prototype;X.toAssignable=function(e,t,n){if(6<=this.options.ecmaVersion&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,t),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},X.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var a=e[n-1];6===this.options.ecmaVersion&&t&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return e},X.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},X.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==k.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},X.parseBindingAtom=function(){if(6<=this.options.ecmaVersion)switch(this.type){case k.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(k.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case k.braceL:return this.parseObj(!0)}return this.parseIdent()},X.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(k.comma),t&&this.type===k.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===k.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),r.push(s)}return r},X.parseBindingListItem=function(e){return e},X.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(k.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},X.checkLVal=function(e,t,n){switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(j(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t&&"none"!==t&&(("var"===t&&!this.canDeclareVarName(e.name)||"var"!==t&&!this.canDeclareLexicalName(e.name))&&this.raiseRecoverable(e.start,"Identifier '"+e.name+"' has already been declared"),"var"===t?this.declareVarName(e.name):this.declareLexicalName(e.name));break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.checkLVal(a,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var s=0,o=e.elements;s<o.length;s+=1){var u=o[s];u&&this.checkLVal(u,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var J=q.prototype;J.checkPropClash=function(e,t,n){if(!(9<=this.options.ecmaVersion&&"SpreadElement"===e.type||6<=this.options.ecmaVersion&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var a=e.kind;if(6<=this.options.ecmaVersion)"__proto__"===r&&"init"===a&&(t.proto&&(n&&n.doubleProto<0?n.doubleProto=i.start:this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var s=t[r="$"+r];s?("init"===a?this.strict&&s.init||s.get||s.set:s.init||s[a])&&this.raiseRecoverable(i.start,"Redefinition of property"):s=t[r]={init:!1,get:!1,set:!1},s[a]=!0}}},J.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type!==k.comma)return i;var a=this.startNodeAt(n,r);for(a.expressions=[i];this.eat(k.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")},J.parseMaybeAssign=function(e,t,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var r=!1,i=-1,a=-1;t?(i=t.parenthesizedAssign,a=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new U,r=!0);var s=this.start,o=this.startLoc;this.type!==k.parenL&&this.type!==k.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,s,o)),this.type.isAssign){var c=this.startNodeAt(s,o);return c.operator=this.value,c.left=this.type===k.eq?this.toAssignable(u,!1,t):u,r||U.call(t),t.shorthandAssign=-1,this.checkLVal(u),this.next(),c.right=this.parseMaybeAssign(e),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),-1<i&&(t.parenthesizedAssign=i),-1<a&&(t.trailingComma=a),u},J.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(k.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(k.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return i},J.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?i:i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},J.parseExprOp=function(e,t,n,r,i){var a=this.type.binop;if(null==a||i&&this.type===k._in||!(r<a))return e;var s=this.type===k.logicalOR||this.type===k.logicalAND,o=this.value;this.next();var u=this.start,c=this.startLoc,l=this.parseExprOp(this.parseMaybeUnary(null,!1),u,c,a,i),p=this.buildBinary(t,n,e,l,o,s);return this.parseExprOp(p,t,n,r,i)},J.buildBinary=function(e,t,n,r,i,a){var s=this.startNodeAt(e,t);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,a?"LogicalExpression":"BinaryExpression")},J.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var a=this.startNode(),s=this.type===k.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),s?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(a,s?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(r,i);o.operator=this.value,o.prefix=!1,o.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(k.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},J.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e),i="ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||i)return r;var a=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===a.type&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1)),a},J.parseSubscripts=function(e,t,n,r){for(var i=8<=this.options.ecmaVersion&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end),a=void 0;;)if((a=this.eat(k.bracketL))||this.eat(k.dot)){var s=this.startNodeAt(t,n);s.object=e,s.property=a?this.parseExpression():this.parseIdent(!0),s.computed=!!a,a&&this.expect(k.bracketR),e=this.finishNode(s,"MemberExpression")}else if(!r&&this.eat(k.parenL)){var o=new U,u=this.yieldPos,c=this.awaitPos;this.yieldPos=0,this.awaitPos=0;var l=this.parseExprList(k.parenR,8<=this.options.ecmaVersion,!1,o);if(i&&!this.canInsertSemicolon()&&this.eat(k.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=u,this.awaitPos=c,this.parseArrowExpression(this.startNodeAt(t,n),l,!0);this.checkExpressionErrors(o,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=c||this.awaitPos;var p=this.startNodeAt(t,n);p.callee=e,p.arguments=l,e=this.finishNode(p,"CallExpression")}else{if(this.type!==k.backQuote)return e;var h=this.startNodeAt(t,n);h.tag=e,h.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(h,"TaggedTemplateExpression")}},J.parseExprAtom=function(e){var t,n=this.potentialArrowAt===this.start;switch(this.type){case k._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),t=this.startNode(),this.next(),this.type!==k.dot&&this.type!==k.bracketL&&this.type!==k.parenL&&this.unexpected(),this.finishNode(t,"Super");case k._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case k.name:var r=this.start,i=this.startLoc,a=this.containsEsc,s=this.parseIdent(this.type!==k.name);if(8<=this.options.ecmaVersion&&!a&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(k._function))return this.parseFunction(this.startNodeAt(r,i),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(k.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[s],!1);if(8<=this.options.ecmaVersion&&"async"===s.name&&this.type===k.name&&!a)return s=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(k.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[s],!0)}return s;case k.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case k.num:case k.string:return this.parseLiteral(this.value);case k._null:case k._true:case k._false:return(t=this.startNode()).value=this.type===k._null?null:this.type===k._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case k.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case k.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(k.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case k.braceL:return this.parseObj(!1,e);case k._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case k._class:return this.parseClass(this.startNode(),!1);case k._new:return this.parseNew();case k.backQuote:return this.parseTemplate();default:this.unexpected()}},J.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(t,"Literal")},J.parseParenExpression=function(){this.expect(k.parenL);var e=this.parseExpression();return this.expect(k.parenR),e},J.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=8<=this.options.ecmaVersion;if(6<=this.options.ecmaVersion){this.next();var a,s=this.start,o=this.startLoc,u=[],c=!0,l=!1,p=new U,h=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==k.parenR;){if(c?c=!1:this.expect(k.comma),i&&this.afterTrailingComma(k.parenR,!0)){l=!0;break}if(this.type===k.ellipsis){a=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(k.parenR),e&&!this.canInsertSemicolon()&&this.eat(k.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=d,this.parseParenArrowList(n,r,u);u.length&&!l||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(p,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=d||this.awaitPos,1<u.length?((t=this.startNodeAt(s,o)).expressions=u,this.finishNodeAt(t,"SequenceExpression",f,m)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,r);return v.expression=t,this.finishNode(v,"ParenthesizedExpression")}return t},J.parseParenItem=function(e){return e},J.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var Y=[];J.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(6<=this.options.ecmaVersion&&this.eat(k.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),this.eat(k.parenL)?e.arguments=this.parseExprList(k.parenR,8<=this.options.ecmaVersion,!1):e.arguments=Y,this.finishNode(e,"NewExpression")},J.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===k.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===k.backQuote,this.finishNode(n,"TemplateElement")},J.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.expect(k.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(k.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},J.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===k.name||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword||9<=this.options.ecmaVersion&&this.type===k.star)&&!_.test(this.input.slice(this.lastTokEnd,this.start))},J.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(k.braceR);){if(r)r=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,i,t),n.properties.push(a)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},J.parseProperty=function(e,t){var n,r,i,a,s=this.startNode();if(9<=this.options.ecmaVersion&&this.eat(k.ellipsis))return e?(s.argument=this.parseIdent(!1),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===k.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,t),this.type===k.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(s,"SpreadElement"));6<=this.options.ecmaVersion&&(s.method=!1,s.shorthand=!1,(e||t)&&(i=this.start,a=this.startLoc),e||(n=this.eat(k.star)));var o=this.containsEsc;return this.parsePropertyName(s),!e&&!o&&8<=this.options.ecmaVersion&&!n&&this.isAsyncProp(s)?(r=!0,n=9<=this.options.ecmaVersion&&this.eat(k.star),this.parsePropertyName(s,t)):r=!1,this.parsePropertyValue(s,e,n,r,i,a,t,o),this.finishNode(s,"Property")},J.parsePropertyValue=function(e,t,n,r,i,a,s,o){if((n||r)&&this.type===k.colon&&this.unexpected(),this.eat(k.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init";else if(6<=this.options.ecmaVersion&&this.type===k.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||o||!(5<=this.options.ecmaVersion)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===k.comma||this.type===k.braceR)6<=this.options.ecmaVersion&&!e.computed&&"Identifier"===e.key.type?(this.checkUnreserved(e.key),e.kind="init",t?e.value=this.parseMaybeDefault(i,a,e.key):this.type===k.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,a,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},J.parsePropertyName=function(e){if(6<=this.options.ecmaVersion){if(this.eat(k.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(k.bracketR),e.key;e.computed=!1}return e.key=this.type===k.num||this.type===k.string?this.parseExprAtom():this.parseIdent(!0)},J.initFunction=function(e){e.id=null,6<=this.options.ecmaVersion&&(e.generator=!1,e.expression=!1),8<=this.options.ecmaVersion&&(e.async=!1)},J.parseMethod=function(e,t){var n=this.startNode(),r=this.inGenerator,i=this.inAsync,a=this.yieldPos,s=this.awaitPos,o=this.inFunction;return this.initFunction(n),6<=this.options.ecmaVersion&&(n.generator=e),8<=this.options.ecmaVersion&&(n.async=!!t),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(k.parenL),n.params=this.parseBindingList(k.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=r,this.inAsync=i,this.yieldPos=a,this.awaitPos=s,this.inFunction=o,this.finishNode(n,"FunctionExpression")},J.parseArrowExpression=function(e,t,n){var r=this.inGenerator,i=this.inAsync,a=this.yieldPos,s=this.awaitPos,o=this.inFunction;return this.enterFunctionScope(),this.initFunction(e),8<=this.options.ecmaVersion&&(e.async=!!n),this.inGenerator=!1,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0),this.inGenerator=r,this.inAsync=i,this.yieldPos=a,this.awaitPos=s,this.inFunction=o,this.finishNode(e,"ArrowFunctionExpression")},J.parseFunctionBody=function(e,t){var n=t&&this.type!==k.braceL,r=this.strict,i=!1;if(n)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=7<=this.options.ecmaVersion&&!this.isSimpleParamList(e.params);r&&!a||(i=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(e,!r&&!i&&!t&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitFunctionScope(),this.strict&&e.id&&this.checkLVal(e.id,"none"),this.strict=r},J.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},J.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var a=i[r];this.checkLVal(a,"var",t?null:n)}},J.parseExprList=function(e,t,n,r){for(var i=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(k.comma),t&&this.afterTrailingComma(e))break;var s=void 0;n&&this.type===k.comma?s=null:this.type===k.ellipsis?(s=this.parseSpread(r),r&&this.type===k.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i},J.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Can not use 'await' as identifier inside an async function"),this.isKeyword(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},J.parseIdent=function(e,t){var n=this.startNode();return e&&"never"===this.options.allowReserved&&(e=!1),this.type===k.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),e||this.checkUnreserved(n),n},J.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===k.semi||this.canInsertSemicolon()||this.type!==k.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(k.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},J.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var Q=q.prototype;Q.raise=function(e,t){var n=R(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},Q.raiseRecoverable=Q.raise,Q.curPosition=function(){if(this.options.locations)return new O(this.curLine,this.pos-this.lineStart)};var $=q.prototype,K=Object.assign||function(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var s in a)j(a,s)&&(e[s]=a[s])}return e};$.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},$.exitFunctionScope=function(){this.scopeStack.pop()},$.enterLexicalScope=function(){var e=this.scopeStack[this.scopeStack.length-1],t={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(t),K(t.parentLexical,e.lexical,e.parentLexical)},$.exitLexicalScope=function(){var e=this.scopeStack.pop(),t=this.scopeStack[this.scopeStack.length-1];K(t.childVar,e.var,e.childVar)},$.canDeclareVarName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!j(t.lexical,e)&&!j(t.parentLexical,e)},$.canDeclareLexicalName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!j(t.lexical,e)&&!j(t.var,e)&&!j(t.childVar,e)},$.declareVarName=function(e){this.scopeStack[this.scopeStack.length-1].var[e]=!0},$.declareLexicalName=function(e){this.scopeStack[this.scopeStack.length-1].lexical[e]=!0};var Z=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new I(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},ee=q.prototype;function te(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}ee.startNode=function(){return new Z(this,this.start,this.startLoc)},ee.startNodeAt=function(e,t){return new Z(this,e,t)},ee.finishNode=function(e,t){return te.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ee.finishNodeAt=function(e,t,n,r){return te.call(this,e,t,n,r)};var ne=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},re={b_stat:new ne("{",!1),b_expr:new ne("{",!0),b_tmpl:new ne("${",!1),p_stat:new ne("(",!1),p_expr:new ne("(",!0),q_tmpl:new ne("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ne("function",!1),f_expr:new ne("function",!0),f_expr_gen:new ne("function",!0,!1,null,!0),f_gen:new ne("function",!1,!1,null,!0)},ie=q.prototype;ie.initialContext=function(){return[re.b_stat]},ie.braceIsBlock=function(e){var t=this.curContext();return t===re.f_expr||t===re.f_stat||(e!==k.colon||t!==re.b_stat&&t!==re.b_expr?e===k._return||e===k.name&&this.exprAllowed?_.test(this.input.slice(this.lastTokEnd,this.start)):e===k._else||e===k.semi||e===k.eof||e===k.parenR||e===k.arrow||(e===k.braceL?t===re.b_stat:e!==k._var&&e!==k.name&&!this.exprAllowed):!t.isExpr)},ie.inGeneratorContext=function(){for(var e=this.context.length-1;1<=e;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ie.updateContext=function(e){var t,n=this.type;n.keyword&&e===k.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},k.parenR.updateContext=k.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===re.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},k.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?re.b_stat:re.b_expr),this.exprAllowed=!0},k.dollarBraceL.updateContext=function(){this.context.push(re.b_tmpl),this.exprAllowed=!0},k.parenL.updateContext=function(e){var t=e===k._if||e===k._for||e===k._with||e===k._while;this.context.push(t?re.p_stat:re.p_expr),this.exprAllowed=!0},k.incDec.updateContext=function(){},k._function.updateContext=k._class.updateContext=function(e){e.beforeExpr&&e!==k.semi&&e!==k._else&&(e!==k.colon&&e!==k.braceL||this.curContext()!==re.b_stat)?this.context.push(re.f_expr):this.context.push(re.f_stat),this.exprAllowed=!1},k.backQuote.updateContext=function(){this.curContext()===re.q_tmpl?this.context.pop():this.context.push(re.q_tmpl),this.exprAllowed=!1},k.star.updateContext=function(e){if(e===k._function){var t=this.context.length-1;this.context[t]===re.f_expr?this.context[t]=re.f_expr_gen:this.context[t]=re.f_gen}this.exprAllowed=!0},k.name.updateContext=function(e){var t=!1;6<=this.options.ecmaVersion&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ae={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(ae.$LONE,ae.General_Category),ae.gc=ae.General_Category,ae.sc=ae.Script_Extensions=ae.scx=ae.Script;var se=q.prototype,oe=function(e){this.parser=e,this.validFlags="gim"+(6<=e.options.ecmaVersion?"uy":"")+(9<=e.options.ecmaVersion?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function ue(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function ce(e){return 36===e||40<=e&&e<=43||46===e||63===e||91<=e&&e<=94||123<=e&&e<=125}function le(e){return 65<=e&&e<=90||97<=e&&e<=122}function pe(e){return le(e)||95===e}function he(e){return 48<=e&&e<=57}function de(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function fe(e){return 65<=e&&e<=70?e-65+10:97<=e&&e<=102?e-97+10:e-48}function me(e){return 48<=e&&e<=55}oe.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&6<=this.parser.options.ecmaVersion,this.switchN=r&&9<=this.parser.options.ecmaVersion},oe.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},oe.prototype.at=function(e){var t=this.source,n=t.length;if(n<=e)return-1;var r=t.charCodeAt(e);return!this.switchU||r<=55295||57344<=r||n<=e+1?r:(r<<10)+t.charCodeAt(e+1)-56613888},oe.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(n<=e)return n;var r=t.charCodeAt(e);return!this.switchU||r<=55295||57344<=r||n<=e+1?e+1:e+2},oe.prototype.current=function(){return this.at(this.pos)},oe.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},oe.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},oe.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},se.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),-1<n.indexOf(i,r+1)&&this.raise(e.start,"Duplicate regular expression flag")}},se.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&9<=this.options.ecmaVersion&&0<e.groupNames.length&&(e.switchN=!0,this.regexp_pattern(e))},se.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},se.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},se.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},se.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},se.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(9<=this.options.ecmaVersion&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},se.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},se.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},se.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},se.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},se.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},se.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},se.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(9<=this.options.ecmaVersion?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},se.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},se.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},se.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!ce(t)&&(e.lastIntValue=t,e.advance(),!0)},se.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!ce(n);)e.advance();return e.pos!==t},se.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||40<=t&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},se.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},se.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},se.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ue(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ue(e.lastIntValue);return!0}return!1},se.regexp_eatRegExpIdentifierStart=function(e){var t,n=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),f(t=r,!0)||36===t||95===t?(e.lastIntValue=r,!0):(e.pos=n,!1)},se.regexp_eatRegExpIdentifierPart=function(e){var t,n=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),m(t=r,!0)||36===t||95===t||8204===t||8205===t?(e.lastIntValue=r,!0):(e.pos=n,!1)},se.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},se.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},se.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},se.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},se.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},se.regexp_eatZero=function(e){return 48===e.current()&&!he(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},se.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},se.regexp_eatControlLetter=function(e){var t=e.current();return!!le(t)&&(e.lastIntValue=t%32,e.advance(),!0)},se.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t,n=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(e.switchU&&55296<=r&&r<=56319){var i=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(56320<=a&&a<=57343)return e.lastIntValue=1024*(r-55296)+(a-56320)+65536,!0}e.pos=i,e.lastIntValue=r}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(0<=(t=e.lastIntValue)&&t<=1114111))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=n}return!1},se.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},se.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(49<=t&&t<=57){for(;e.lastIntValue=10*e.lastIntValue+(t-48),e.advance(),48<=(t=e.current())&&t<=57;);return!0}return!1},se.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(100===t||68===t||115===t||83===t||119===t||87===t)return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&9<=this.options.ecmaVersion&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},se.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},se.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){ae.hasOwnProperty(t)&&-1!==ae[t].indexOf(n)||e.raise("Invalid property name")},se.regexp_validateUnicodePropertyNameOrValue=function(e,t){-1===ae.$LONE.indexOf(t)&&e.raise("Invalid property name")},se.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";pe(t=e.current());)e.lastStringValue+=ue(t),e.advance();return""!==e.lastStringValue},se.regexp_eatUnicodePropertyValue=function(e){var t,n=0;for(e.lastStringValue="";pe(t=n=e.current())||he(t);)e.lastStringValue+=ue(n),e.advance();return""!==e.lastStringValue},se.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},se.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},se.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&n<t&&e.raise("Range out of order in character class")}}},se.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||me(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},se.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},se.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!he(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},se.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},se.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;he(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},se.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;de(n=e.current());)e.lastIntValue=16*e.lastIntValue+fe(n),e.advance();return e.pos!==t},se.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},se.regexp_eatOctalDigit=function(e){var t=e.current();return me(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},se.regexp_eatFixedHexDigits=function(e,t){for(var n=e.pos,r=e.lastIntValue=0;r<t;++r){var i=e.current();if(!de(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+fe(i),e.advance()}return!0};var ve=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new I(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},be=q.prototype;function ge(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}be.next=function(){this.options.onToken&&this.options.onToken(new ve(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},be.getToken=function(){return this.next(),new ve(this)},"undefined"!=typeof Symbol&&(be[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===k.eof,value:e}}}}),be.curContext=function(){return this.context[this.context.length-1]},be.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(k.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},be.readToken=function(e){return f(e,6<=this.options.ecmaVersion)||92===e?this.readWord():this.getTokenFromCode(e)},be.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||57344<=e?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},be.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(E.lastIndex=n;(e=E.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},be.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!C(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},be.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(8<e&&e<14||5760<=e&&S.test(String.fromCharCode(e))))break e;++this.pos}}},be.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},be.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(48<=e&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return 6<=this.options.ecmaVersion&&46===e&&46===t?(this.pos+=3,this.finishToken(k.ellipsis)):(++this.pos,this.finishToken(k.dot))},be.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(k.assign,2):this.finishOp(k.slash,1)},be.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?k.star:k.modulo;return 7<=this.options.ecmaVersion&&42===e&&42===t&&(++n,r=k.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(k.assign,n+1):this.finishOp(r,n)},be.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?k.logicalOR:k.logicalAND,2):61===t?this.finishOp(k.assign,2):this.finishOp(124===e?k.bitwiseOR:k.bitwiseAND,1)},be.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(k.assign,2):this.finishOp(k.bitwiseXOR,1)},be.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!_.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(k.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(k.assign,2):this.finishOp(k.plusMin,1)},be.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(k.assign,n+1):this.finishOp(k.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(k.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},be.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(k.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(k.arrow)):this.finishOp(61===e?k.eq:k.prefix,1)},be.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.parenL);case 41:return++this.pos,this.finishToken(k.parenR);case 59:return++this.pos,this.finishToken(k.semi);case 44:return++this.pos,this.finishToken(k.comma);case 91:return++this.pos,this.finishToken(k.bracketL);case 93:return++this.pos,this.finishToken(k.bracketR);case 123:return++this.pos,this.finishToken(k.braceL);case 125:return++this.pos,this.finishToken(k.braceR);case 58:return++this.pos,this.finishToken(k.colon);case 63:return++this.pos,this.finishToken(k.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(k.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(k.prefix,1)}this.raise(this.pos,"Unexpected character '"+ge(e)+"'")},be.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},be.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(_.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(a);var o=this.regexpState||(this.regexpState=new oe(this));o.reset(n,i,s),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var u=null;try{u=new RegExp(i,s)}catch(e){}return this.finishToken(k.regexp,{pattern:i,flags:s,value:u})},be.readInt=function(e,t){for(var n=this.pos,r=0,i=0,a=null==t?1/0:t;i<a;++i){var s,o=this.input.charCodeAt(this.pos);if((s=97<=o?o-97+10:65<=o?o-65+10:48<=o&&o<=57?o-48:1/0)>=e)break;++this.pos,r=r*e+s}return this.pos===n||null!=t&&this.pos-n!==t?null:r},be.readRadixNumber=function(e){this.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.start+2,"Expected number in radix "+e),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,t)},be.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=2<=this.pos-t&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number"),n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1);var r=this.input.charCodeAt(this.pos);46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i=this.input.slice(t,this.pos),a=n?parseInt(i,8):parseFloat(i);return this.finishToken(k.num,a)},be.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,1114111<e&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},be.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(C(r,10<=this.options.ecmaVersion)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(k.string,t)};var xe={};be.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==xe)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},be.invalidStringToken=function(e,t){if(this.inTemplateElement&&9<=this.options.ecmaVersion)throw xe;this.raise(e,t)},be.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==k.template&&this.type!==k.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(k.template,e)):36===n?(this.pos+=2,this.finishToken(k.dollarBraceL)):(++this.pos,this.finishToken(k.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(C(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},be.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(k.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},be.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ge(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(48<=t&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return 255<r&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return String.fromCharCode(t)}},be.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},be.readWord1=function(){for(var e="",t=!(this.containsEsc=!1),n=this.pos,r=6<=this.options.ecmaVersion;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(m(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(t?f:m)(s,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=ge(s),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},be.readWord=function(){var e=this.readWord1(),t=k.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=y[e]),this.finishToken(t,e)};var ye,we,ke,_e="5.7.1";function Ee(e,t){return new q(t,e).parse()}function Ce(e,t,n){var r=new q(n,e,t);return r.nextToken(),r.parseExpression()}function Se(e,t){return new q(t,e)}function Ae(e,t,n){ye=e,we=t,ke=n}},function(e,t){e.exports={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},function(e,t,n){"use strict";var a=n(8),u=/^[\da-fA-F]+$/,c=/^\d+$/;e.exports=function(i){var s=i.tokTypes,r=i.tokContexts;r.j_oTag=new i.TokContext("<tag",!1),r.j_cTag=new i.TokContext("</tag",!1),r.j_expr=new i.TokContext("<tag>...</tag>",!0,!0),s.jsxName=new i.TokenType("jsxName"),s.jsxText=new i.TokenType("jsxText",{beforeExpr:!0}),s.jsxTagStart=new i.TokenType("jsxTagStart"),s.jsxTagEnd=new i.TokenType("jsxTagEnd"),s.jsxTagStart.updateContext=function(){this.context.push(r.j_expr),this.context.push(r.j_oTag),this.exprAllowed=!1},s.jsxTagEnd.updateContext=function(e){var t=this.context.pop();t===r.j_oTag&&e===s.slash||t===r.j_cTag?(this.context.pop(),this.exprAllowed=this.curContext()===r.j_expr):this.exprAllowed=!0};var e=i.Parser.prototype;function o(e){return e?"JSXIdentifier"===e.type?e.name:"JSXNamespacedName"===e.type?e.namespace.name+":"+e.name.name:"JSXMemberExpression"===e.type?o(e.object)+"."+o(e.property):void 0:e}return e.jsx_readToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");var n=this.input.charCodeAt(this.pos);switch(n){case 60:case 123:return this.pos===this.start?60===n&&this.exprAllowed?(++this.pos,this.finishToken(s.jsxTagStart)):this.getTokenFromCode(n):(e+=this.input.slice(t,this.pos),this.finishToken(s.jsxText,e));case 38:e+=this.input.slice(t,this.pos),e+=this.jsx_readEntity(),t=this.pos;break;default:i.isNewLine(n)?(e+=this.input.slice(t,this.pos),e+=this.jsx_readNewLine(!0),t=this.pos):++this.pos}}},e.jsx_readNewLine=function(e){var t,n=this.input.charCodeAt(this.pos);return++this.pos,t=13===n&&10===this.input.charCodeAt(this.pos)?(++this.pos,e?"\n":"\r\n"):String.fromCharCode(n),this.options.locations&&(++this.curLine,this.lineStart=this.pos),t},e.jsx_readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;38===r?(t+=this.input.slice(n,this.pos),t+=this.jsx_readEntity(),n=this.pos):i.isNewLine(r)?(t+=this.input.slice(n,this.pos),t+=this.jsx_readNewLine(!1),n=this.pos):++this.pos}return t+=this.input.slice(n,this.pos++),this.finishToken(s.string,t)},e.jsx_readEntity=function(){var e,t="",n=0,r=this.input[this.pos];"&"!==r&&this.raise(this.pos,"Entity must start with an ampersand");for(var i=++this.pos;this.pos<this.input.length&&n++<10;){if(";"===(r=this.input[this.pos++])){"#"===t[0]?"x"===t[1]?(t=t.substr(2),u.test(t)&&(e=String.fromCharCode(parseInt(t,16)))):(t=t.substr(1),c.test(t)&&(e=String.fromCharCode(parseInt(t,10)))):e=a[t];break}t+=r}return e||(this.pos=i,"&")},e.jsx_readWord=function(){for(var e,t=this.pos;e=this.input.charCodeAt(++this.pos),i.isIdentifierChar(e)||45===e;);return this.finishToken(s.jsxName,this.input.slice(t,this.pos))},e.jsx_parseIdentifier=function(){var e=this.startNode();return this.type===s.jsxName?e.name=this.value:this.type.keyword?e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")},e.jsx_parseNamespacedName=function(){var e=this.start,t=this.startLoc,n=this.jsx_parseIdentifier();if(!this.options.plugins.jsx.allowNamespaces||!this.eat(s.colon))return n;var r=this.startNodeAt(e,t);return r.namespace=n,r.name=this.jsx_parseIdentifier(),this.finishNode(r,"JSXNamespacedName")},e.jsx_parseElementName=function(){if(this.type===s.jsxTagEnd)return"";var e=this.start,t=this.startLoc,n=this.jsx_parseNamespacedName();for(this.type!==s.dot||"JSXNamespacedName"!==n.type||this.options.plugins.jsx.allowNamespacedObjects||this.unexpected();this.eat(s.dot);){var r=this.startNodeAt(e,t);r.object=n,r.property=this.jsx_parseIdentifier(),n=this.finishNode(r,"JSXMemberExpression")}return n},e.jsx_parseAttributeValue=function(){switch(this.type){case s.braceL:var e=this.jsx_parseExpressionContainer();return"JSXEmptyExpression"===e.expression.type&&this.raise(e.start,"JSX attributes must only be assigned a non-empty expression"),e;case s.jsxTagStart:case s.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}},e.jsx_parseEmptyExpression=function(){var e=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.start,this.startLoc)},e.jsx_parseExpressionContainer=function(){var e=this.startNode();return this.next(),e.expression=this.type===s.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(s.braceR),this.finishNode(e,"JSXExpressionContainer")},e.jsx_parseAttribute=function(){var e=this.startNode();return this.eat(s.braceL)?(this.expect(s.ellipsis),e.argument=this.parseMaybeAssign(),this.expect(s.braceR),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsx_parseNamespacedName(),e.value=this.eat(s.eq)?this.jsx_parseAttributeValue():null,this.finishNode(e,"JSXAttribute"))},e.jsx_parseOpeningElementAt=function(e,t){var n=this.startNodeAt(e,t);n.attributes=[];var r=this.jsx_parseElementName();for(r&&(n.name=r);this.type!==s.slash&&this.type!==s.jsxTagEnd;)n.attributes.push(this.jsx_parseAttribute());return n.selfClosing=this.eat(s.slash),this.expect(s.jsxTagEnd),this.finishNode(n,r?"JSXOpeningElement":"JSXOpeningFragment")},e.jsx_parseClosingElementAt=function(e,t){var n=this.startNodeAt(e,t),r=this.jsx_parseElementName();return r&&(n.name=r),this.expect(s.jsxTagEnd),this.finishNode(n,r?"JSXClosingElement":"JSXClosingFragment")},e.jsx_parseElementAt=function(e,t){var n=this.startNodeAt(e,t),r=[],i=this.jsx_parseOpeningElementAt(e,t),a=null;if(!i.selfClosing){e:for(;;)switch(this.type){case s.jsxTagStart:if(e=this.start,t=this.startLoc,this.next(),this.eat(s.slash)){a=this.jsx_parseClosingElementAt(e,t);break e}r.push(this.jsx_parseElementAt(e,t));break;case s.jsxText:r.push(this.parseExprAtom());break;case s.braceL:r.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}o(a.name)!==o(i.name)&&this.raise(a.start,"Expected corresponding JSX closing tag for <"+o(i.name)+">")}return n.openingElement=i,n.closingElement=a,n.children=r,this.type===s.relational&&"<"===this.value&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(n,i.name?"JSXElement":"JSXFragment")},e.jsx_parseText=function(e){var t=this.parseLiteral(e);return t.type="JSXText",t},e.jsx_parseElement=function(){var e=this.start,t=this.startLoc;return this.next(),this.jsx_parseElementAt(e,t)},i.plugins.jsx=function(e,t){t&&("object"!=d(t)&&(t={}),e.options.plugins.jsx={allowNamespaces:!1!==t.allowNamespaces,allowNamespacedObjects:!!t.allowNamespacedObjects},e.extend("parseExprAtom",function(t){return function(e){return this.type===s.jsxText?this.jsx_parseText(this.value):this.type===s.jsxTagStart?this.jsx_parseElement():t.call(this,e)}}),e.extend("readToken",function(n){return function(e){var t=this.curContext();if(t===r.j_expr)return this.jsx_readToken();if(t===r.j_oTag||t===r.j_cTag){if(i.isIdentifierStart(e))return this.jsx_readWord();if(62==e)return++this.pos,this.finishToken(s.jsxTagEnd);if((34===e||39===e)&&t==r.j_oTag)return this.jsx_readString(e)}return 60===e&&this.exprAllowed&&33!==this.input.charCodeAt(this.pos+1)?(++this.pos,this.finishToken(s.jsxTagStart)):n.call(this,e)}}),e.extend("updateContext",function(n){return function(e){if(this.type==s.braceL){var t=this.curContext();t==r.j_oTag?this.context.push(r.b_expr):t==r.j_expr?this.context.push(r.b_tmpl):n.call(this,e),this.exprAllowed=!0}else{if(this.type!==s.slash||e!==s.jsxTagStart)return n.call(this,e);this.context.length-=2,this.context.push(r.j_cTag),this.exprAllowed=!1}}}))},i}},function(e,t,n){"use strict";e.exports=n(9)(n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(10),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6)),k=r(n(5)),_=n(3),E=r(n(2)),C=r(n(1)),S=n(0);function r(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={plugins:{jsx:!0}},a=function(e){function s(){var e,y,t,n;!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return p(l(l((t=this,n=(e=c(s)).call.apply(e,[this].concat(i)),y=!n||"object"!==u(n)&&"function"!=typeof n?l(t):n))),"parseJSX",function(e){var t="<root>".concat(e,"</root>"),n=[];try{n=(n=new o.Parser(h,t).parse()).body[0].expression.children||[]}catch(e){return y.props.showWarnings&&console.warn(e),y.props.onError&&y.props.onError(e),[]}return n.map(y.parseExpression).filter(Boolean)}),p(l(l(y)),"parseExpression",function(e){switch(e.type){case"JSXElement":return y.parseElement(e);case"JSXText":return w.default.createElement(w.Fragment,{key:(0,_.randomHash)()},e.value||"");case"JSXAttribute":return null===e.value||y.parseExpression(e.value);case"ArrayExpression":return e.elements.map(y.parseExpression);case"ObjectExpression":var t={};return e.properties.forEach(function(e){t[e.key.name||e.key.value]=y.parseExpression(e.value)}),t;case"Identifier":return(y.props.bindings||{})[e.name];case"JSXExpressionContainer":return y.parseExpression(e.expression);case"Literal":return e.value;case"MemberExpression":return(y.parseExpression(e.object)||{})[e.property.name];case"CallExpression":return y.parseExpression(e.callee);case"LogicalExpression":var n=y.parseExpression(e.left);return!("||"!==e.operator||!n)||!!("&&"===e.operator&&n||"||"===e.operator&&!n)&&y.parseExpression(e.right);case"BinaryExpression":switch(e.operator){case"+":return y.parseExpression(e.left)+y.parseExpression(e.right);case"-":return y.parseExpression(e.left)-y.parseExpression(e.right);case"*":return y.parseExpression(e.left)*y.parseExpression(e.right);case"/":return y.parseExpression(e.left)/y.parseExpression(e.right);default:return}default:return}}),p(l(l(y)),"parseName",function(e){switch(e.type){case"JSXIdentifier":return e.name;case"JSXMemberExpression":return"".concat(y.parseName(e.object),".").concat(y.parseName(e.property));default:return}}),p(l(l(y)),"parseElement",function(e){var t,n,r=y.props,i=r.allowUnknownElements,a=r.components,s=void 0===a?{}:a,o=r.componentsOnly,u=r.onError,c=e.children,l=void 0===c?[]:c,p=e.openingElement,h=p.attributes,d=void 0===h?[]:h,f=y.parseName(p.name);if(f){var m=(y.props.blacklistedAttrs||[]).map(function(e){return e instanceof RegExp?e:new RegExp(e,"i")}),v=(y.props.blacklistedTags||[]).map(function(e){return e.trim().toLowerCase()}).filter(Boolean);if(/^(html|head|body)$/i.test(f))return l.map(function(e){return y.parseElement(e)});if(-1===v.indexOf(f.trim().toLowerCase())){if(!(0,E.default)(s,f)){if(o)return;if(!i&&document.createElement(f)instanceof HTMLUnknownElement)return void u("Error: The tag <".concat(f,"> is unrecognized in this browser, and will not be rendered."))}var b,g=(0,E.default)(s,f);(g||(0,S.canHaveChildren)(f))&&(b=l.map(y.parseExpression),g||(0,S.canHaveWhitespace)(f)||(b=b.filter(function(e){return"string"!=typeof e||!/^\s*$/.test(e)})),0===b.length?b=void 0:1===b.length&&(b=(t=b,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]));var x={key:(0,_.randomHash)()};return d.forEach(function(e){var t=e.name.name,n=C.default[t]||t,r=y.parseExpression(e);0===m.filter(function(e){return e.test(n)}).length&&(x[n]=r)}),"string"==typeof x.style&&(x.style=(0,k.default)(x.style)),b&&(x.children=b),w.default.createElement(g||f.toLowerCase(),x)}}else u("Error: The <".concat(p.name,"> tag could not be parsed, and will not be rendered."))}),p(l(l(y)),"render",function(){var e=(y.props.jsx||"").trim().replace(/<!DOCTYPE([^>]*)>/g,"");return y.ParsedChildren=y.parseJSX(e),y.props.renderInWrapper?w.default.createElement("div",{className:"jsx-parser"},y.ParsedChildren):w.default.createElement(w.default.Fragment,null,y.ParsedChildren)}),y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,w.Component),s}();p(t.default=a,"displayName","JsxParser"),p(a,"defaultProps",{allowUnknownElements:!0,bindings:{},blacklistedAttrs:[/^on.+/i],blacklistedTags:["script"],components:[],componentsOnly:!1,jsx:"",onError:function(){},showWarnings:!1,renderInWrapper:!0})}])},"object"==d(a)&&"object"==d(e)?e.exports=i(s(0)):(n=[s(0)],void 0===(r="function"==typeof(t=i)?t.apply(a,n):t)||(e.exports=r))}).call(this,s(8)(e))},389:function(e,t,n){"use strict";var r=n(374);function v(){var e=Object(r.a)(['<div style="font-size: 0.85rem; font-style: italic;">',"</div>"]);return v=function(){return e},e}function b(){var e=Object(r.a)(['<div style="font: 700 0.9rem sans-serif;">',"</div>"]);return b=function(){return e},e}function g(){var e=Object(r.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>']);return g=function(){return e},e}function x(){var e=Object(r.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />']);return x=function(){return e},e}function y(){var e=Object(r.a)(["<form>\n\t<input name=input type="," />\n  </form>"]);return y=function(){return e},e}function c(){var e=Object(r.a)(["\n      <form>\n        ","\n      </form>\n    "]);return c=function(){return e},e}function l(){var e=Object(r.a)(["\n      <form>\n        ","\n      </form>\n    "]);return l=function(){return e},e}function i(){var e=Object(r.a)(["----\n##### Quelques utilitaires et définitions"]);return i=function(){return e},e}function a(){var e=Object(r.a)(["----\n##### Les imports utiles\n"]);return a=function(){return e},e}function s(){var e=Object(r.a)(["*La partie gauche (années 82-85) est un peu chaotique car on compare les soldes cumulés des créations sur la période. Au début, toutes les villes sont à zéro !!*"]);return s=function(){return e},e}function o(){var e=Object(r.a)(["----\n### Regardons maintenant la CREATION D'ENTREPRISE\nLes chiffres disponibles sont partiels mais ils permettent d'examiner les dynamiques de création d'entreprises ville par ville. *Formellement le nombre de créations depuis 1982 qui sont encore en activité.*\n\nIl serait facile de tracer les courbes des soldes cumulés de créations d'entreprises pour chaque ville, mais il existe un mode de représentation souvent plus instructif: le **bump chart** qui visualise l'évolution du classement par année:\n"]);return o=function(){return e},e}function u(){var e=Object(r.a)(["----\n### Les grands classiques sont aussi utiles\nLe diagramme en barres triées (le couteau suisse de la dataviz) est parfaitement adapté pour représenter les données quantitatives:\n\n#### La population par villes\nRegardons par exemple le top 40 des villes.\n"]);return u=function(){return e},e}function p(){var e=Object(r.a)([""]);return p=function(){return e},e}function h(){var e=Object(r.a)(["La transparence de la couleur permet d'obtenir un effet de superposition qui additionne **visuellement** le nombre d'habitants. Pas très précis mais pas inutile, ni nuisible non plus: une sorte d'échelle d'intensité de rouge de densité de population. \n\n#### Ou en échelle de couleur\nEtant donné la forte dynamique du nombre d'habitants par ville, il est impératif d'imaginer une échelle non-linéaire. Essayons une échelle Logarithmique."]);return h=function(){return e},e}function d(){var e=Object(r.a)([" "]);return d=function(){return e},e}function f(){var e=Object(r.a)(["#### Carte + Données\nL'idée la plus simple est de représenter la population. Il suffit de reprendre la carte et d'y ajouter par exemple des cercles au centre de la commune et de surface proportionnelle au nombre d'habitants."]);return f=function(){return e},e}function m(){var e=Object(r.a)(["\n<style> \n  .commune:hover {fill: orange;}\n  .commune {fill: #ddb; stroke: #999;}\n</style>"]);return m=function(){return e},e}function w(){var e=Object(r.a)(["## Deuxième chose à faire: examiner ce qui s'y trouve\n### La carte\nC'est un format geojson, il semble naturel de commencer par visualiser la dimension géographique. \n\nUne carte peut être tracée en une dizaine de lignes. \n*Déplier la cellule* **carte** *pour voir le code.*\n"]);return w=function(){return e},e}function k(){var e=Object(r.a)(["Il est possible d'explorer les données en dépliant l'explorateur d'objet. On peut observer les 4516 communes de la région sous l'attribut **features**."]);return k=function(){return e},e}function _(){var e=Object(r.a)(["# Hackaviz - Toulouse - 2018 \nCe notebook est ma réponse au concours de l'[Hackaviz](http://toulouse-dataviz.fr/?page_id=11) organisé par [Toulouse DataViz](http://toulouse-dataviz.fr/).\nEtant un des organisateurs je n'ai pas le droit de concourir!! Mais je ne résiste pas à l'appel de la visualisation. Voici donc ma contribution dans les conditions du concours (9 mars-19 mars). Evidemment sans tricher, je lève le stylo au même moment que les autres participants.\n\nTout ceci n'est qu'un prétexte à explorer les possibilités de **Observable** comme support pédagogique à la dataviz et/ou l'utilisation de d3js.\n\n## Première chose à faire: récupérer les données\nIl suffit de suivre les directives de [Mike Bostock](https://beta.observablehq.com/@mbostock/introduction-to-data) pour placer les données au format geojson dans un gist privé. d3js est un outil facilement accessible dans le notebook et il va être très utile pour **faire le job**.\n\n\t\td3 = require(\"https://d3js.org/d3.v5.min.js\")\nLes données deviennent alors accessibles par une simple requète: \n\n\t\tdata = d3.json(\"url\")\n\n"]);return _=function(){return e},e}var E={id:"0ce7c8c23372fad8@998",modules:[{id:"0ce7c8c23372fad8@998",variables:[{inputs:["md"],value:function(e){return e(_())}},{name:"data",inputs:["d3"],value:function(e){return e.json("https://gist.githubusercontent.com/AlainRo/a3d7ba3bbf050ce0b7fd3a49ef96cf1b/raw/0f093f3c7a85cccc9fda8960b38f39ab19ab35a2/TDV-hackaviz_2018.geojson")}},{inputs:["md"],value:function(e){return e(k())}},{inputs:["md"],value:function(e){return e(w())}},{name:"carte",inputs:["d3","DOM","size","data"],value:function(e,t,n,r){var i=e.select(t.svg(n.width,n.height)).attr("id","carte").style("width","100%").style("height","auto"),a=e.geoPath().projection(e.geoMercator().fitExtent([[20,20],[n.width-20,n.height-20]],r));return i.selectAll("path").data(r.features).enter().append("path").attr("d",a).classed("commune",!0).append("title").text(function(e){return e.properties.commune}),i.node()}},{inputs:["html"],value:function(e){return e(m())}},{inputs:["md"],value:function(e){return e(f())}},{name:"viewof option",inputs:["radio"],value:function(e){return e({title:"Population",description:"Sélectionner la méthode de visualisation",options:[{label:"Aucune population",value:"rien"},{label:".. en cercles",value:"cercles"},{label:".. en couleurs",value:"zones"}],value:"rien"})}},{name:"option",inputs:["Generators","viewof option"],value:function(e,t){return e.input(t)}},{name:"population",inputs:["d3","option","size","data","formatNumber","md"],value:function(e,t,n,r,i,a){var s=e.select("svg");if("cercles"!==t)s.select(".circles").remove();else{var o=e.scaleSqrt().domain([0,1e4]).range([0,12]),u=e.geoPath().projection(e.geoMercator().fitExtent([[20,20],[n.width-20,n.height-20]],r));s.append("g").attr("fill","brown").attr("fill-opacity",.5).attr("stroke","#fff").attr("stroke-width",.5).classed("circles",!0).selectAll("circle").data(r.features).enter().append("circle").attr("transform",function(e){return"translate(".concat(u.centroid(e),")")}).attr("r",function(e){return o(e.properties.population_2014)}).append("title").text(function(e){return e.properties.commune+":"+i(e.properties.population_2014)})}return a(d())}},{inputs:["md"],value:function(e){return e(h())}},{name:"choropleth",inputs:["d3","option","md"],value:function(e,t,n){var r=e.select("svg");if("zones"!==t)r.selectAll("path").style("fill","#ddb");else{var i=e.scaleLog().domain([1,3.5]).range(e.schemeYlOrRd[9]);r.selectAll("path").style("fill",function(e){return i(e.properties.population_2014)})}return n(p())}},{inputs:["md"],value:function(e){return e(u())}},{name:"barchart",inputs:["data","d3","DOM","size"],value:function(e,t,n,r){var i=e.features.sort(function(e,t){return t.properties.population_2014-e.properties.population_2014});(i=i.slice(0,40)).reverse();var a=t.select(n.svg(r.width,r.height)).style("width","100%").style("height","auto"),s=50,o=50,u=40,c=150,l=r.width-c-o,p=r.height-s-u,h=a.append("g").attr("transform","translate("+c+","+s+")"),d=t.scaleLinear().rangeRound([0,l]),f=t.scaleBand().rangeRound([p,0]).padding(.2);return d.domain([0,t.max(i,function(e){return e.properties.population_2014/1e3})]),f.domain(i.map(function(e){return e.properties.commune})),h.append("g").attr("class","x-axis").attr("transform","translate(0,"+p+")").call(t.axisBottom(d)).append("text").attr("y",30).attr("x",650).attr("dy","0.5em").style("fill","black").text("en milliers d'habitants"),h.append("g").attr("class","y-axis").call(t.axisLeft(f)),h.selectAll(".bar").data(i).enter().append("rect").attr("class","bar").attr("x",0).attr("y",function(e){return f(e.properties.commune)}).attr("height",f.bandwidth()).attr("width",function(e){return d(e.properties.population_2014/1e3)}).style("fill","#2ca25f"),a.node()}},{inputs:["md"],value:function(e){return e(o())}},{name:"bumpchart",inputs:["d3","DOM","size","annees","rank","data","rankVillesSocietes"],value:function(t,e,n,r,i,a,s){var o=t.select(e.svg(n.width,n.height)).style("width","100%").style("height","auto"),u=50,c=100,l=40,p=100,h=n.width-p-c,d=n.height-u-l,f=o.append("g").attr("transform","translate("+p+","+u+")"),m=t.scaleBand().rangeRound([0,h]),v=t.scaleLinear().rangeRound([0,d]),b=t.scaleBand().rangeRound([d,0]).padding(.2),g=t.scaleBand().rangeRound([d,0]).padding(.2);m.domain(r.slice(5,36).map(function(e){return e.toString().slice(2,4)})),v.domain([0,30]),g.domain(i(a.features,"solde",r[6]).map(function(e){return e.properties.commune}).slice(0,29).reverse()),b.domain(i(a.features,"solde",r[r.length-1]).map(function(e){return e.properties.commune}).slice(0,29).reverse()),f.append("g").attr("class","x-axis").attr("transform","translate(0,"+d+")").call(t.axisBottom(m)).append("text").attr("y",30).attr("x",650).attr("dy","0.5em").style("fill","black").text("créations de sociétés (en nombre)"),f.append("g").attr("class","y-axis").attr("transform","translate("+h+",0)").call(t.axisRight(b)),f.append("g").attr("class","y-axis").call(t.axisLeft(g));var x=t.line().x(function(e){return m(e.annee.toString().slice(2,4))}).y(function(e){return v(Math.min(e.rank,30))}).curve(t.curveLinear);return s.entries().forEach(function(e){e.key;f.append("path").attr("d",x(e.value.slice(5,36))).style("fill","none").style("stroke","grey").style("opacity",.7).style("stroke-width","3px").on("mouseover",function(){t.select(this).style("stroke","red")}).on("mouseout",function(){t.select(this).style("stroke","grey")})}),o.node()}},{inputs:["md"],value:function(e){return e(s())}},{inputs:["md"],value:function(e){return e(a())}},{name:"d3",inputs:["require"],value:function(e){return e("https://d3js.org/d3.v5.min.js")}},{from:"@jashkenas/inputs",name:"button",remote:"button"},{from:"@jashkenas/inputs",name:"slider",remote:"slider"},{from:"@jashkenas/inputs",name:"date",remote:"date"},{from:"@jashkenas/inputs",name:"file",remote:"file"},{from:"@jashkenas/inputs",name:"radio",remote:"radio"},{from:"@jashkenas/inputs",name:"checkbox",remote:"checkbox"},{from:"@jashkenas/inputs",name:"number",remote:"number"},{inputs:["md"],value:function(e){return e(i())}},{name:"size",value:function(){return{width:900,height:600}}},{name:"annees",inputs:["d3"],value:function(e){return e.range(1982,2018)}},{name:"formatNumber",inputs:["d3"],value:function(t){return function(e){return t.format(",.0f")(e).replace(","," ")}}},{name:"rank",inputs:["annees"],value:function(i){return function(e,n,t){var r=i.findIndex(function(e){return e===t});return-1===r?[]:e.slice().sort(function(e,t){return t.properties[n][r]-e.properties[n][r]})}}},{name:"ranks",inputs:["rank"],value:function(i){return function(t,n,e){var r=e.map(function(e){return{annee:e,top:i(t,n,e).map(function(e){return e.properties})}});return console.log(r),r}}},{name:"rankVillesSocietes",inputs:["data","annees","d3","ranks"],value:function(e,n,t,r){e.features.forEach(function(t){return t.properties.creations=n.map(function(e){return t.properties[e+"_1"]})}),e.features.forEach(function(r){r.properties.solde=[],r.properties.nbcreations=r.properties.creations.reduce(function(e,t,n){return r.properties.solde.push(t+e),t+e},0)});var i=t.map(),a="solde";r(e.features,a,n).forEach(function(n,r){return n.top.forEach(function(e,t){i.get(e.commune)||i.set(e.commune,[]),i.get(e.commune).push({annee:n.annee,rank:t+1,value:e.solde[r]})})}),i.entries().forEach(function(e){50<e.value[n.length-1].rank&&i.remove(e.key)});var s=i.entries().map(function(e){return e.key});return i.clear(),r(e.features.filter(function(e){return-1!==s.indexOf(e.properties.commune)},a,n))}},{inputs:["vegalite","json"],value:function(e,t){return e(t)}},{name:"json",value:function(){return{$schema:"https://vega.github.io/schema/vega-lite/v2.json",description:"A simple bar chart with embedded data.",width:360,data:{values:[{team:"Man Utd",matchday:1,point:3},{team:"Chelsea",matchday:1,point:1},{team:"Man City",matchday:1,point:1},{team:"Spurs",matchday:1,point:0},{team:"Man Utd",matchday:2,point:6},{team:"Chelsea",matchday:2,point:1},{team:"Man City",matchday:2,point:0},{team:"Spurs",matchday:2,point:3},{team:"Man Utd",matchday:3,point:9},{team:"Chelsea",matchday:3,point:1},{team:"Man City",matchday:3,point:0},{team:"Spurs",matchday:3,point:6}]},transform:[{sort:[{field:"point",order:"descending"}],window:[{op:"rank",as:"rank"}],groupby:["matchday"]}],mark:{type:"line",orient:"vertical"},encoding:{x:{field:"matchday",type:"ordinal"},y:{field:"rank",type:"ordinal"},color:{field:"team",type:"nominal",scale:{domain:["Man Utd","Chelsea","Man City","Spurs"],range:["#cc2613","#125dc7","#8bcdfc","#d1d1d1"]}}}}}},{name:"vegalite",inputs:["require"],value:function(e){return e("@observablehq/vega-lite@0")}},{name:"bump",inputs:["require"],value:function(e){return e("https://unpkg.com/d3-bumps-chart@latest/build/d3-bumps-chart.js")}},{name:"bC",inputs:["bump"],value:function(e){return e.bumpsChart()}},{name:"svgB",inputs:["d3","DOM","size","bC"],value:function(e,t,n,r){var i=e.select(t.svg(n.width,n.height)).style("width","100%").style("height","auto");return r.year({start:1984,end:2017}),i.node()}},{inputs:["bC"],value:function(e){return e.year({start:1984,end:2017})}}]},{id:"@jashkenas/inputs",variables:[{name:"button",inputs:["input"],value:function(s){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.title,r=e.description,i=e.disabled;"string"==typeof e&&(t=e),t||(t="Ok");var a=s({type:"button",title:n,description:r,attributes:{disabled:i,value:t}});return a.output.remove(),a}}},{name:"slider",inputs:["input"],value:function(m){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.min,r=void 0===n?0:n,i=e.max,a=void 0===i?1:i,s=e.step,o=void 0===s?"any":s,u=e.precision,c=void 0===u?2:u,l=e.title,p=e.description,h=e.getValue,d=e.format,f=e.submit;return"number"==typeof e&&(t=e),null==t&&(t=(a+r)/2),c=Math.pow(10,c),h||(h=function(e){return Math.round(e.valueAsNumber*c)/c}),m({type:"range",title:l,description:p,submit:f,format:d,attributes:{min:r,max:a,step:o,value:t},getValue:h})}}},{name:"date",inputs:["input"],value:function(s){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.min,n=e.max,r=e.value,i=e.title,a=e.description;return"string"==typeof e&&(r=e),s({type:"date",title:i,description:a,attributes:{min:t,max:n,value:r}})}}},{name:"file",inputs:["input"],value:function(s){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.multiple,n=e.accept,r=e.title,i=e.description,a=s({type:"file",title:r,description:i,attributes:{multiple:t,accept:n},action:function(e){e.input.onchange=function(){e.value=t?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return a.output.remove(),a.input.onchange(),a}}},{name:"radio",inputs:["input","html"],value:function(o,u){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.value,t=e.title,n=e.description,i=e.submit,a=e.options;Array.isArray(e)&&(a=e),a=a.map(function(e){return"string"==typeof e?{value:e,label:e}:e});var s=o({type:"radio",title:t,description:n,submit:i,getValue:function(e){var t=Array.prototype.find.call(e,function(e){return e.checked});return t?t.value:void 0},form:u(l(),a.map(function(e){var t=e.value,n=e.label;return'\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           <input type=radio name=input value="'.concat(t,'" ').concat(t===r?"checked":"",' style="vertical-align: baseline;" />\n           ').concat(n,"\n          </label>\n        ")}))});return s.output.remove(),s}}},{name:"checkbox",inputs:["input","html"],value:function(o,u){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.value,t=e.title,n=e.description,i=e.submit,a=e.options;Array.isArray(e)&&(a=e),a=a.map(function(e){return"string"==typeof e?{value:e,label:e}:e});var s=o({type:"checkbox",title:t,description:n,submit:i,getValue:function(e){return e.length?Array.prototype.filter.call(e,function(e){return e.checked}).map(function(e){return e.value}):!!e.checked&&e.value},form:u(c(),a.map(function(e){var t=e.value,n=e.label;return'\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           <input type=checkbox name=input value="'.concat(t||"on",'" ').concat(-1<(r||[]).indexOf(t)?"checked":"",' style="vertical-align: baseline;" />\n           ').concat(n,"\n          </label>\n        ")}))});return s.output.remove(),s}}},{name:"number",inputs:["input"],value:function(l){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.title,r=e.description,i=e.placeholder,a=e.submit,s=e.step,o=e.min,u=e.max;"number"==typeof e&&(function(e){throw new Error('"'+e+'" is read-only')}("value"),t=e);var c=l({type:"number",title:n,description:r,submit:a,attributes:{value:t,placeholder:i,step:s,min:o,max:u},getValue:function(e){return e.valueAsNumber}});return c.output.remove(),c.input.style.width="auto",c.input.style.fontSize="1em",c}}},{name:"input",inputs:["html","d3format"],value:function(f,m){return function(e){var n=e.form,t=e.type,r=void 0===t?"text":t,i=e.attributes,a=void 0===i?{}:i,s=e.action,o=e.getValue,u=e.title,c=e.description,l=e.format,p=e.submit;e.options;n||(n=f(y(),r));var h=n.input;if(Object.keys(a).forEach(function(e){var t=a[e];null!=t&&h.setAttribute(e,t)}),p&&n.append(f(x(),"string"==typeof p?p:"Submit")),n.append(f(g())),u&&n.prepend(f(b(),u)),c&&n.append(f(v(),c)),l&&(l=m.format(l)),s)s(n);else{var d=p?"onsubmit":"button"==r?"onclick":"checkbox"==r||"radio"==r?"onchange":"oninput";n[d]=function(e){e&&e.preventDefault();var t=o?o(h):h.value;n.output&&(n.output.value=l?l(t):t),n.value=t,"oninput"!==d&&n.dispatchEvent(new CustomEvent("input"))},"oninput"!==d&&(h.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==d&&(n.onsubmit=function(e){return e&&e.preventDefault()}),n[d]()}return n}}},{name:"d3format",inputs:["require"],value:function(e){return e("d3-format")}}]}]};t.a=E}}]);
//# sourceMappingURL=vendors~src-containers-Post.961d67b0.js.map